
<!doctype html>
<html lang="fa">
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>مستندات API نوبیتکس</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-2eae4139.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-5c68d5d9.css" rel="stylesheet" media="print" />
    <link href="stylesheets/custom-1213ed84.css" rel="stylesheet" />
      <script src="javascripts/all_nosearch-18c3ed8e.js"></script>

  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;plaintext&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-966dbeae.png" class="logo" alt="" />
      <html lang="fa">
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="plaintext">plaintext</a>
        </div>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#api" class="toc-h1 toc-link" data-title="مستندات API نوبیتکس">مستندات API نوبیتکس</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#intro-auth" class="toc-h2 toc-link" data-title="احراز هویت و توکن">احراز هویت و توکن</a>
                  </li>
                  <li>
                    <a href="#intro-ua" class="toc-h2 toc-link" data-title="تنظیم User Agent">تنظیم User Agent</a>
                  </li>
                  <li>
                    <a href="#intro-limits" class="toc-h2 toc-link" data-title="محدودیت‌ها">محدودیت‌ها</a>
                  </li>
                  <li>
                    <a href="#intro-changelog" class="toc-h2 toc-link" data-title="تغییرات و موارد قدیمی">تغییرات و موارد قدیمی</a>
                  </li>
                  <li>
                    <a href="#intro-debugging" class="toc-h2 toc-link" data-title="راهنمای حل مشکلات">راهنمای حل مشکلات</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#quickstart" class="toc-h1 toc-link" data-title="راهنمای شروع به کار با API">راهنمای شروع به کار با API</a>
          </li>
          <li>
            <a href="#6528ce0c42" class="toc-h1 toc-link" data-title="اطلاعات بازار (عمومی)">اطلاعات بازار (عمومی)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#orderbook" class="toc-h2 toc-link" data-title="لیست سفارش‌ها: اردربوک">لیست سفارش‌ها: اردربوک</a>
                  </li>
                  <li>
                    <a href="#54977c5fca" class="toc-h2 toc-link" data-title="نمودار عمق (آزمایشی)">نمودار عمق (آزمایشی)</a>
                  </li>
                  <li>
                    <a href="#3fe8d57657" class="toc-h2 toc-link" data-title="لیست معاملات">لیست معاملات</a>
                  </li>
                  <li>
                    <a href="#6ae2dae4a2" class="toc-h2 toc-link" data-title="آمار بازار نوبیتکس">آمار بازار نوبیتکس</a>
                  </li>
                  <li>
                    <a href="#ohlc" class="toc-h2 toc-link" data-title="آمار OHLC بازار نوبیتکس">آمار OHLC بازار نوبیتکس</a>
                  </li>
                  <li>
                    <a href="#cdf265d0e6" class="toc-h2 toc-link" data-title="آمار بازار جهانی">آمار بازار جهانی</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#0d2655f072" class="toc-h1 toc-link" data-title="اطلاعات کاربر">اطلاعات کاربر</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#88cb25e727" class="toc-h2 toc-link" data-title="پروفایل">پروفایل</a>
                  </li>
                  <li>
                    <a href="#87af031464" class="toc-h2 toc-link" data-title="تولید آدرس بلاکچین">تولید آدرس بلاکچین</a>
                  </li>
                  <li>
                    <a href="#f9fd4e8e3a" class="toc-h2 toc-link" data-title="افزودن کارت بانکی">افزودن کارت بانکی</a>
                  </li>
                  <li>
                    <a href="#0f4b9b52e8" class="toc-h2 toc-link" data-title="افزودن حساب بانکی">افزودن حساب بانکی</a>
                  </li>
                  <li>
                    <a href="#e2ecdd60d4" class="toc-h2 toc-link" data-title="محدودیت های کاربر">محدودیت های کاربر</a>
                  </li>
                  <li>
                    <a href="#1100025d2c" class="toc-h2 toc-link" data-title="لیست کیف پول ها">لیست کیف پول ها</a>
                  </li>
                  <li>
                    <a href="#1ff004071d" class="toc-h2 toc-link" data-title="لیست کیف پول ها (انتخابی)">لیست کیف پول ها (انتخابی)</a>
                  </li>
                  <li>
                    <a href="#55645b2c6d" class="toc-h2 toc-link" data-title="موجودی">موجودی</a>
                  </li>
                  <li>
                    <a href="#ae038c6100" class="toc-h2 toc-link" data-title="لیست تراکنش‌ها">لیست تراکنش‌ها</a>
                  </li>
                  <li>
                    <a href="#18a62645f3" class="toc-h2 toc-link" data-title="لیست واریزها">لیست واریزها</a>
                  </li>
                  <li>
                    <a href="#favorite_market" class="toc-h2 toc-link" data-title=" بازارهای مورد علاقه"> بازارهای مورد علاقه</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#a71101fce2" class="toc-h1 toc-link" data-title="معامله در بازار اسپات">معامله در بازار اسپات</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#e12b63a512" class="toc-h2 toc-link" data-title="ثبت سفارش جدید">ثبت سفارش جدید</a>
                  </li>
                  <li>
                    <a href="#0c113519df" class="toc-h2 toc-link" data-title="مشاهده وضعیت سفارش">مشاهده وضعیت سفارش</a>
                  </li>
                  <li>
                    <a href="#a2ce8ff7e3" class="toc-h2 toc-link" data-title="فهرست سفارش‌های کاربر">فهرست سفارش‌های کاربر</a>
                  </li>
                  <li>
                    <a href="#4a50e713bf" class="toc-h2 toc-link" data-title="تغییر وضعیت سفارش">تغییر وضعیت سفارش</a>
                  </li>
                  <li>
                    <a href="#2a3bc4fdc6" class="toc-h2 toc-link" data-title="لغو جمعی سفارشات">لغو جمعی سفارشات</a>
                  </li>
                  <li>
                    <a href="#1cf6f6c643" class="toc-h2 toc-link" data-title="فهرست معاملات کاربر">فهرست معاملات کاربر</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#a876cd1a69" class="toc-h1 toc-link" data-title="معامله در بازار تعهدی">معامله در بازار تعهدی</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#3f2eb2d88c" class="toc-h2 toc-link" data-title="مشاهده بازارهای معاملات تعهدی">مشاهده بازارهای معاملات تعهدی</a>
                  </li>
                  <li>
                    <a href="#e89b27b30c" class="toc-h2 toc-link" data-title="مشاهده استخرهای مشارکت ارزی فعال">مشاهده استخرهای مشارکت ارزی فعال</a>
                  </li>
                  <li>
                    <a href="#ff12aded16" class="toc-h2 toc-link" data-title="انتقال پول به کیف‌پول تعهدی">انتقال پول به کیف‌پول تعهدی</a>
                  </li>
                  <li>
                    <a href="#3f24676a34" class="toc-h2 toc-link" data-title="دریافت محدودیت کاربری در مقدار وکالت">دریافت محدودیت کاربری در مقدار وکالت</a>
                  </li>
                  <li>
                    <a href="#01bc967ada" class="toc-h2 toc-link" data-title="درج سفارش تعهدی">درج سفارش تعهدی</a>
                  </li>
                  <li>
                    <a href="#86d0280e1c" class="toc-h2 toc-link" data-title="مشاهده لیست موقعیت‌ها">مشاهده لیست موقعیت‌ها</a>
                  </li>
                  <li>
                    <a href="#99b67fc9a0" class="toc-h2 toc-link" data-title="مشاهده یک موقعیت">مشاهده یک موقعیت</a>
                  </li>
                  <li>
                    <a href="#c2f4831f50" class="toc-h2 toc-link" data-title="بستن موقعیت">بستن موقعیت</a>
                  </li>
                  <li>
                    <a href="#9075c13bb8" class="toc-h2 toc-link" data-title="ویرایش وجه تضمین موقعیت باز">ویرایش وجه تضمین موقعیت باز</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#withdraw" class="toc-h1 toc-link" data-title="برداشت">برداشت</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#withdraw-request" class="toc-h2 toc-link" data-title="ثبت درخواست برداشت">ثبت درخواست برداشت</a>
                  </li>
                  <li>
                    <a href="#withdraw-confirm" class="toc-h2 toc-link" data-title="تایید درخواست برداشت">تایید درخواست برداشت</a>
                  </li>
                  <li>
                    <a href="#withdraw-list" class="toc-h2 toc-link" data-title="فهرست برداشت‌ها">فهرست برداشت‌ها</a>
                  </li>
                  <li>
                    <a href="#withdraw-view" class="toc-h2 toc-link" data-title="مشاهده برداشت">مشاهده برداشت</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#81680ab360" class="toc-h1 toc-link" data-title="دفتر آدرس و حالت برداشت امن">دفتر آدرس و حالت برداشت امن</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#0622709577" class="toc-h2 toc-link" data-title="مشاهده لیست آدرس‌های دفتر آدرس">مشاهده لیست آدرس‌های دفتر آدرس</a>
                  </li>
                  <li>
                    <a href="#24bc19da56" class="toc-h2 toc-link" data-title="اضافه کردن آدرس جدید به دفتر آدرس">اضافه کردن آدرس جدید به دفتر آدرس</a>
                  </li>
                  <li>
                    <a href="#a15902df35" class="toc-h2 toc-link" data-title="حذف یک دفتر آدرس">حذف یک دفتر آدرس</a>
                  </li>
                  <li>
                    <a href="#de54f7f0fe" class="toc-h2 toc-link" data-title="فعال کردن برداشت امن">فعال کردن برداشت امن</a>
                  </li>
                  <li>
                    <a href="#352e9e780b" class="toc-h2 toc-link" data-title="غیرفعال کردن برداشت امن">غیرفعال کردن برداشت امن</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#a5b0c55df6" class="toc-h1 toc-link" data-title="امنیت">امنیت</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#e0478463ad" class="toc-h2 toc-link" data-title="سابقه ورود">سابقه ورود</a>
                  </li>
                  <li>
                    <a href="#01ab60950a" class="toc-h2 toc-link" data-title="فعالسازی لغو اضطراری">فعالسازی لغو اضطراری</a>
                  </li>
                  <li>
                    <a href="#7bd08f9b8d" class="toc-h2 toc-link" data-title="آنتی فیشینگ">آنتی فیشینگ</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#57bcd8d937" class="toc-h1 toc-link" data-title="طرح معرفی دوستان">طرح معرفی دوستان</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#35df8fda78" class="toc-h2 toc-link" data-title="فهرست کدهای دعوت">فهرست کدهای دعوت</a>
                  </li>
                  <li>
                    <a href="#0b7578b7fd" class="toc-h2 toc-link" data-title="ایجاد کد دعوت">ایجاد کد دعوت</a>
                  </li>
                  <li>
                    <a href="#383aaeedc8" class="toc-h2 toc-link" data-title="وضعیت دعوت کاربر">وضعیت دعوت کاربر</a>
                  </li>
                  <li>
                    <a href="#b71dfde1d6" class="toc-h2 toc-link" data-title="ثبت معرف کاربر">ثبت معرف کاربر</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#auth" class="toc-h1 toc-link" data-title="احراز هویت">احراز هویت</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#auth-intro" class="toc-h2 toc-link" data-title="روش پیشنهادی دریافت توکن">روش پیشنهادی دریافت توکن</a>
                  </li>
                  <li>
                    <a href="#login" class="toc-h2 toc-link" data-title="ورود - دریافت توکن">ورود - دریافت توکن</a>
                  </li>
                  <li>
                    <a href="#login-faq" class="toc-h2 toc-link" data-title="سوالات متداول دریافت توکن">سوالات متداول دریافت توکن</a>
                  </li>
                  <li>
                    <a href="#logout" class="toc-h2 toc-link" data-title="خروج - سوزاندن توکن">خروج - سوزاندن توکن</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#portfolio" class="toc-h1 toc-link" data-title="سود و زیان">سود و زیان</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#last-week-daily-profit" class="toc-h2 toc-link" data-title="سود و زیان روزانه هفته گذشته">سود و زیان روزانه هفته گذشته</a>
                  </li>
                  <li>
                    <a href="#last-week-daily-total-profit" class="toc-h2 toc-link" data-title="سود زیان کل به صورت روزانه در هفته گذشته">سود زیان کل به صورت روزانه در هفته گذشته</a>
                  </li>
                  <li>
                    <a href="#last-month-total-profit" class="toc-h2 toc-link" data-title="سود و زیان کل ماه گذشته">سود و زیان کل ماه گذشته</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#other" class="toc-h1 toc-link" data-title="سایر">سایر</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#options" class="toc-h2 toc-link" data-title="تنظیمات سیستم">تنظیمات سیستم</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#general-considerations" class="toc-h1 toc-link" data-title="ملاحظات عمومی">ملاحظات عمومی</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#00aedb9cdc" class="toc-h2 toc-link" data-title="راهنمای اشکال‌یابی">راهنمای اشکال‌یابی</a>
                  </li>
                  <li>
                    <a href="#566f5db2bb" class="toc-h2 toc-link" data-title="پاسخ‌های موفق">پاسخ‌های موفق</a>
                  </li>
                  <li>
                    <a href="#82d68ae596" class="toc-h2 toc-link" data-title="پاسخ‌های ناموفق">پاسخ‌های ناموفق</a>
                  </li>
                  <li>
                    <a href="#pagination" class="toc-h2 toc-link" data-title="صفحه‌بندی">صفحه‌بندی</a>
                  </li>
                  <li>
                    <a href="#date-filter" class="toc-h2 toc-link" data-title="فیلتر زمانی">فیلتر زمانی</a>
                  </li>
                  <li>
                    <a href="#monetary" class="toc-h2 toc-link" data-title="مقادیر پولی (monetary)">مقادیر پولی (monetary)</a>
                  </li>
                  <li>
                    <a href="#dbf936619c" class="toc-h2 toc-link" data-title="اعتبارسنجی دو عاملی">اعتبارسنجی دو عاملی</a>
                  </li>
                  <li>
                    <a href="#api" class="toc-h2 toc-link" data-title="محدودیت‌های فراخوانی API">محدودیت‌های فراخوانی API</a>
                  </li>
                  <li>
                    <a href="#pro" class="toc-h2 toc-link" data-title="حالت متداول و Pro">حالت متداول و Pro</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#faq" class="toc-h1 toc-link" data-title="سوالات متداول">سوالات متداول</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#faq-login" class="toc-h2 toc-link" data-title="سوالی در مورد لاگین و دریافت توکن دارم">سوالی در مورد لاگین و دریافت توکن دارم</a>
                  </li>
                  <li>
                    <a href="#test" class="toc-h2 toc-link" data-title="آیا نوبیتکس محیط آزمایشی (Test) دارد؟">آیا نوبیتکس محیط آزمایشی (Test) دارد؟</a>
                  </li>
                  <li>
                    <a href="#api" class="toc-h2 toc-link" data-title="آیا برای استفاده از apiها محدودیتی وجود دارد؟">آیا برای استفاده از apiها محدودیتی وجود دارد؟</a>
                  </li>
                  <li>
                    <a href="#a640db90fe" class="toc-h2 toc-link" data-title="فرمت استفاده شده برای تاریخ چیست؟">فرمت استفاده شده برای تاریخ چیست؟</a>
                  </li>
                  <li>
                    <a href="#api-2" class="toc-h2 toc-link" data-title="آیا برای apiها کدهای نمونه تهیه شده است؟">آیا برای apiها کدهای نمونه تهیه شده است؟</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='/changelog/'>سابقه تغییرات API</a></li>
            <li><a href='/terms/'>شرایط استفاده از API</a></li>
            <li><a href='https://github.com/nobitex/docs-api'>مخزن گیت‌هاب</a></li>
            <li><a href='https://documenter.getpostman.com/view/5722122/Szmcayjw?version=latest'>کالکشن Postman</a></li>
            <li><a href='https://nobitex.ir/'>سایت نوبیتکس</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='api'>مستندات API نوبیتکس</h1><div class="highlight"><pre class="highlight plaintext"><code>NOBITEX
</code></pre></div>
<p>به مستندات API <a href="https://nobitex.ir">نوبیتکس</a>، بزرگترین بازار ارز دیجیتال ایران خوش آمدید. نوبیتکس از ابتدای کار API خود را در اختیار تمامی کاربران و توسعه‌دهندگان گرامی قرار داده است. با استفاده از API نوبیتکس می‌توانید علاوه بر اطلاع از آخرین قیمت‌ها و وضعیت بازار رمزارزها در ایران، اقدام به مدیریت حساب نوبیتکس خود به روش خودکار و مبتنی بر کد نمایید. استفاده از API علاوه بر فراهم‌سازی امکانات نوین برای کاربران، امکان انجام معاملات خودکار که باعث سیال و منصفانه‌تر شدن قیمت در بازارها می‌شود را فراهم می‌کند.</p>

<p>پیش از استفاده از API نوبیتکس اطمینان حاصل کنید که با
<a href="https://nobitex.ir/policies/terms/">قوانین نوبیتکس</a>
و همچنین
<a href="/terms/">قوانین و شرایط استفاده از API نوبیتکس</a>
آشنایی کامل دارید.
همین طور با توجه به احتمال ایجاد تغییرات در بستر نوبیتکس یا ساختار و جزئیات APIها، همواره به اطلاعیه‌های
<a href="https://t.me/nobitexmarket">کانال رسمی تلگرام نوبیتکس</a>
و <a href="https://t.me/nobitexapi">کانال رسمی تلگرام API نوبیتکس</a>
دقت کنید. به علاوه به صورت مستمر
<a href="/changelog/">صفحه سابقه تغییرات API نوبیتکس</a>
را رصد کنید تا از تمامی تغییرات API نوبیتکس مطلع باشید.</p>

<p>در استفاده از API همواره اطمینان حاصل کنید که کد شما قابلیت مواجهه با حالت‌های خطا و شرایط و تغییرات پیش‌بینی نشده را داشته باشد و عکس العمل مناسبی در این خصوص نشان دهد. با توجه به حساسیت‌های بازارهای مالی، لازم است که کدهای استفاده کننده از API به صورت اصولی و با ملاحظاتی مانند کنترل نرخ درخواست‌ها در شرایط مختلف، مدیریت حالت‌های خطا، پیش‌گیری از تشدید آبشاری خطاها، سازوکارهای حفاظت در عمق، وجود سامانه‌های مانیتورینگ و اعلان، وجود سازوکارهای مدیریت ریسک و ... توسعه داده شود.</p>

<p>اگر برای اولین بار است که از API نوبیتکس استفاده می‌کنید، می‌توانید از بخش
<a href="#quickstart">راهنمای شروع به کار با API</a>
کمک بگیرید.</p>

<h2 id="intro-auth">احراز هویت و توکن</h2>
<div class="highlight"><pre class="highlight plaintext"><code>Authorization: Token yourTOKENhereHEX0000000000
</code></pre></div>
<p>برای استفاده از APIهای غیر عمومی نیاز به ارسال توکن وجود دارد. این توکن باید به عنوان HTTP Header درخواست به صورت زیر ارسال شود:</p>

<p><code>Authorization: Token yourTOKENhereHEX0000000000</code></p>

<p>به جز APIهای بخش‌هایی که عنوان «عمومی» در انتهای نام‌شان آورده شده باشد، برای استفاده از تمام APIها نیاز به ارسال توکن وجود دارد. توکن مشخص می‌کند که کدام کاربر در حال ارسال این درخواست است.</p>

<aside class="warning">
  <b>به هیچ عنوان توکن خود را در اختیار دیگران قرار ندهید.</b>
  <br/>
  اگر این توکن به صورت تصادفی در اختیار دیگران قرار گرفت سریعاً logout کرده و اقدام به لاگین و دریافت توکن جدید کنید.
</aside>

<p>برای دریافت توکن می‌توانید با مراجعه به پنل کاربری خود در نوبیتکس، از بخش پروفایل وارد
<a href="https://nobitex.ir/app/settings/" target="_blank">صفحه تنظیمات</a>
شده و توکن خود را دریافت نمایید. در صورتی که گزینه «مرا به خاطر بسپار» را در هنگام ورود به نوبیتکس انتخاب کرده باشید، این توکن تا ۳۰ روز یا زمان لاگ‌اوت شما از نوبیتکس معتبر خواهد ماند.</p>

<p>در صورت تمایل به دریافت دوره‌ای و خودکار توکن، می‌توانید از
<a href="#login">API ورود - دریافت توکن</a>
استفاده نمایید. ولی این کار ضروری نیست و روش پیشنهادی ما برای اغلب کاربران دریافت مستقیم توکن از پنل کاربری است. تنها در صورتی که با مخاطرات ذخیره گذرواژه خود در کد و روش‌های امن این کار آشنا هستید، در استفاده از API مهارت دارید، و از طرفی نیاز به دریافت کاملاً خودکار توکن دارید، از API دریافت توکن استفاده نمایید.</p>

<h2 id="intro-ua">تنظیم User Agent</h2>

<p>جهت شناسایی و تفکیک بهتر بات‌ها و پشتیبانی از آن‌ها، اکیداً توصیه می‌شود که در تمامی درخواست‌ها مقدار UserAgent را مطابق الگوی <code>TraderBot/XXXXX</code> ارسال نمایید، که بخش <code>XXXXX</code> هر نام یکتایی است که می‌توانید برای بات خود انتخاب کنید. با رعایت این نام‌گذاری پاسخگویی به درخواست‌های پشتیبانی و عیب‌یابی مشکلات بهتر صورت می‌گیرد.</p>

<h2 id="intro-limits">محدودیت‌ها</h2>

<p>توجه داشته باشید، برای استفاده از APIها محدودیت هایی وجود دارد که در قسمت توضیحات هر کدام از APIها این موارد ذکر شده است.</p>

<p>همچنین به منظور حفظ امنیت حساب کاربران، در هنگام احرازهویت(لاگین)، در صورتی که دستگاه شما جدید شناخته شود، محدودیت برداشت به مدت یک‌ساعت روی حساب کاربری شما اعمال خواهد شد. کاربرانی که فرایند دریافت توکن با زمان کمتر از این یک‌ساعت دارند میتوانند مقدار device را که در جواب دریافت توکن دریافت کرده‌اند را در مراحل بعدی به همراه دیگر پارامترها ارسال، تا از اعمال این محدودیت جلوگیری نمایند.</p>

<p>روش دیگری که پیش و روی شماست استفاده از توکن‌های بلندمدت است.</p>

<h2 id="intro-changelog">تغییرات و موارد قدیمی</h2>

<p>با توجه به ماهیت نوین و تغییرات مستمر مورد نیاز در حوزه رمزارزها، در API نوبیتکس نیز ممکن است در طول زمان تغییراتی ایجاد شود. پشتیبانی طولانی‌مدت از نسخه‌های قدیمی API معمولاً فرآیندی پیچیده و سخت است و باعث کاهش سرعت ایجاد تغییرات جدید در بستر نوبیتکس می‌شود. به همین دلیل API نوبیتکس همواره در عین حفظ ساختار کلی و اجزای اصلی ثابت، در حال بهبود مستمر و به‌روزرسانی است. کاربران گرامی می‌توانند با پیگیری تغییرات API که در <a href="/changelog/">صفحه سابقه تغییرات API نوبیتکس</a> اطلاع‌رسانی می‌شود، همواره از تغییرات احتمالی ضروری در کد خود مطلع شوند تا بتوانند به صورت بدون وقفه از جدیدترین امکانات و روش‌های دسترسی به API نوبیتکس بهره‌مند شوند.</p>

<p>مواردی که قبلاً در API موجود بودند ولی در حال حاضر پشتیبانی نمی‌شوند، جهت ثبت سابقه در <a href="/deprecated/">صفحه API قدیمی</a> موجود هستند. ممکن است APIهای دیگری علاوه بر موارد مستند شده در مستندات پیش‌رو وجود داشته باشند، که این موارد جز API رسمی نوبیتکس نبوده و تضمینی در قبال ادامه‌دار بودن پشتیبانی از آن‌ها وجود ندارد. همین طور در استفاده از APIهای فعلی لازم به توضیح است که ممکن است علاوه بر فیلدهایی که در ورودی یا خروجی مستند شده است، فیلدهای دیگری نیز وجود داشته باشند. این فیلدها تا زمانی که در مستندات اضافه نشده باشند باید به عنوان امکانات آزمایشی و موقت در نظر گرفته شوند و نباید مورد استفاده عموم کاربران قرار گیرد. تنها کافی است که کدهای توسعه داده شده در صورت مشاهده فیلدی غیر از فیلدهای مورد انتظار خود، دچار خطا نشوند و صرفاً وجود آن فیلد را نادیده بگیرند.</p>

<h2 id="intro-debugging">راهنمای حل مشکلات</h2>

<p>در صورتی که پاسخ مد نظر خود را از API دریافت نمی‌کنید، ابتدا اطمینان حاصل کنید که تمامی موارد ذکر شده در مستندات مربوطه را به درستی رعایت کرده باشید. بهترین روش حل مشکلات برنامه‌نویسی سعی در ریشه‌یابی مشکلات با تغییر متغیرها و بررسی تمام حالت‌ها و استفاده از روش‌های مرسوم عیب‌یابی کد است.</p>

<p>در صورت حل نشدن مشکل، مراجعه به بخش <a href="#faq">سوالات متداول</a> و <a href="#general-considerations">ملاحظات عمومی</a> می‌تواند در عیب‌یابی مفید باشد. همین طور اگر مشکل مربوط به حساب شما باشد و اقدامی را نه از طریق API و نه از طریق سایت نوبیتکس نتوانید انجام دهید، باید با
<a href="https://nobitex.ir/contact-us/" target="_blank">پشتیبانی آنلاین نوبیتکس</a>
در ارتباط باشید.</p>

<p>در صورتی که بخشی از مستندات API مبهم است، یا پیشنهادی درباره APIهای موجود دارید، یا پس از بررسی کامل اطمینان دارید که مشکلی در API نوبیتکس وجود دارد، می‌توانید در
<a href="https://github.com/nobitex/docs-api" target="_blank">مخزن گیت‌هاب مستندات نوبیتکس API</a>
مورد (issue) جدیدی را ایجاد نمایید و با ما در ارتباط باشید. دقت کنید که این کانال عمومی است و نباید در آن هیچ گونه اطلاعات حساس یا توکن یا سایر اطلاعات حساب خود را مطرح کنید.</p>

<h1 id="quickstart">راهنمای شروع به کار با API</h1>

<p>اگر برای اولین بار از API نوبیتکس یا سایر بازارهای رمزارز استفاده می‌کنید، برای شروع کار پیشنهاد می‌شود گام‌های زیر را طی کنید:</p>

<ul>
<li>برای شروع کار با API پیشنهاد می‌شود که ابتدا در نوبیتکس
<a href="https://nobitex.ir/signup/" target="_blank">ثبت‌نام</a>
نمایید و مراحل احراز هویت خود را حداقل تا سطح یک انجام دهید.</li>
<li>با مراجعه به پنل کاربری خود در نوبیتکس، از بخش پروفایل وارد
<a href="https://nobitex.ir/app/settings/" target="_blank">صفحه تنظیمات</a>
شده و توکن خود را دریافت نمایید. دسترسی به این توکن به منزله دسترسی کامل به حساب شماست، در نتیجه در حفاظت آن دقت کامل داشته باشید.</li>
<li>اگر با نرم‌افزار Postman آشنا هستید، می‌توانید برای تست فراخوانی APIهای اصلی نوبیتکس، از
<a target="_blank" rel="nofollow" href="https://documenter.getpostman.com/view/5722122/Szmcayjw?version=latest">کالکشن Postman نوبیتکس</a>
استفاده کنید. لازم به توضیح است که این کالکشن تنها شامل برخی از APIهای نوبیتکس و کاربرد آن‌ها است و مرجع اصلی مستندات، همین صفحه است.</li>
</ul>

<p>همین طور می‌توانید بنا به نیاز خود این موارد را نیز در ادامه در نظر بگیرید:</p>

<ul>
<li>در صورت تمایل به دریافت دوره‌ای و خودکار توکن، می‌توانید از
<a href="#login">API ورود - دریافت توکن</a>
استفاده نمایید.</li>
</ul>
<h1 id='6528ce0c42'>اطلاعات بازار (عمومی)</h1>
<h2 id="orderbook">لیست سفارش‌ها: اردربوک</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/v2/orderbook/BTCIRT'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/v2/orderbook/BTCIRT
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastUpdate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1644991756704</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"1476091000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1.016"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"1479700000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0.2561"</span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"1470001120"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0.126571"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"1470000000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0.818994"</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت لیست سفارش‌ها یا همان اردربوک بازارهای مختلف، از این درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /v2/orderbook/SYMBOL</code></li>
<li><strong>محدودیت فراخوانی:</strong> 300 درخواست در دقیقه</li>
<li><strong>نیاز به ارسال توکن:</strong> ندارد</li>
</ul>

<aside class="warning">
برای دریافت اردربوک حتماً از متد GET و با ارسال نماد در آدرس url استفاده نمایید. روش قدیمی مبتنی بر POST دیگر پشتیبانی نمی‌شود.
</aside>
<h3 id='f9f1b685f9'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>SYMBOL</td>
<td>string</td>
<td>الزامی</td>
<td>نماد بازار</td>
<td><code>BTCIRT</code></td>
</tr>
</tbody></table>

<aside class="notice">
لیست نمادهای معتبر بازارها عبارتند از:<br/> <span class="market-symbols"></span>
</aside>

<blockquote>
<p>نمونه پاسخ درخواست /v2/orderbook/all:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"BTCIRT"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"lastUpdate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1644991756704</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="s2">"1476091000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1.016"</span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="s2">"1479700000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0.2561"</span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="s2">"1470001120"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0.126571"</span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="s2">"1470000000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0.818994"</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"USDTIRT"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"lastUpdate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1644991767392</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="s2">"277990"</span><span class="p">,</span><span class="w"> </span><span class="s2">"6688.3"</span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="s2">"278000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"28185.03"</span><span class="p">]</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">[</span><span class="s2">"277960"</span><span class="p">,</span><span class="w"> </span><span class="s2">"119.31"</span><span class="p">],</span><span class="w">
      </span><span class="p">[</span><span class="s2">"277960"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1079.75"</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<aside class="notice">
در صورت تمایل به دریافت لیست سفارشات همه بازارها به صورت یکجا از مقدار <code>all</code> برای symbol استفاده نمایید.
</aside>
<h3 id='b5a1caf9af'>پارامترهای پاسخ</h3>
<p>خروجی شامل دو آرایه asks و bids بوده که در هر یک قیمت و مقدار سفارش‌های بازار وجود دارد. به دلایل تاریخی سفارش‌های فروش در <code>bids</code> و سفارش‌های خرید در <code>asks</code> بازگردانده می‌شوند. هر یک از این آرایه‌ها شامل دوتایی‌های «قیمت، مقدار» هستند.</p>

<p>همچنین زمان آخرین به‌روزرسانی در اردربوک ذیل پارامتر <code>lastUpdate</code> به فرمت یونیکس داده می‌شود.</p>
<h3 id='1e4125a980'>روش پیشنهادی نگهداری اردربوک</h3>
<p>در صورتی که در کد خود نیاز به نگهداری آخرین وضعیت اردربوک نوبیتکس هستید، در یک حلقه اقدام به دریافت اردربوک نوبیتکس نمایید. حتماً در میان هر دو بار اجرای حلقه حداقل یک تا ده ثانیه صبر نمایید و از فراخوانی پیاپی و بی‌مکث اردربوک خودداری کنید. به دلیل وجود لایه‌های کش، در صورت فراخوانی در بازه‌های زیر یک ثانیه، همان داده فراخوانی قبلی را دریافت خواهید نمود. اگر در اغلب بازارهای نوبیتکس فعال هستید، می‌توانید در هر فراخوانی کل اردربوک را دریافت نمایید تا نیازی به فراخوانی همزمان چند اردربوک نداشته باشید. اگر کد خود را در چند رشته (ترد) یا پردازه یا سرور اجرا می‌کنید، حتماً اردربوک را در یک مرجع واحد دریافت نمایید و آن را در میان نمونه‌های برنامه خود به اشتراک بگذارید.</p>
<h2 id='54977c5fca'>نمودار عمق (آزمایشی)</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/v2/depth/BTCIRT'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/v2/depth/BTCIRT
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastUpdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1658565992195"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[[</span><span class="s2">"7309999000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2.200274"</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">"7310000000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2.199856"</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">"7310025000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2.102569"</span><span class="p">]],</span><span class="w">
  </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[[</span><span class="s2">"7409894000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0.054789"</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">"7447665000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0.055276"</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s2">"7450000000"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0.059756"</span><span class="p">]],</span><span class="w">
  </span><span class="nl">"lastTradePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7417000000"</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت داده‌های نمودار عمق، یا همان اردربوک بازارهای مختلف، از این درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /v2/depth/SYMBOL</code></li>
<li><strong>محدودیت فراخوانی:</strong> 300 درخواست در دقیقه</li>
<li><strong>نیاز به ارسال توکن:</strong> ندارد</li>
</ul>

<aside class="warning">
برای دریافت اردربوک حتماً از متد GET و با ارسال نماد در آدرس url استفاده نمایید.
</aside>
<h3 id='f9f1b685f9-2'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>SYMBOL</td>
<td>string</td>
<td>الزامی</td>
<td>نماد بازار</td>
<td><code>BTCIRT</code></td>
</tr>
</tbody></table>

<aside class="notice">
لیست نمادهای معتبر بازارها عبارتند از:<br/> <span class="market-symbols"></span>
</aside>
<h3 id='b5a1caf9af-2'>پارامترهای پاسخ</h3>
<p>خروجی شامل دو آرایه asks و bids بوده که در هر یک قیمت و مقدار سفارش‌های بازار وجود دارد. <strong>سفارش‌های خرید در <code>bids</code> و سفارش‌های فروش در <code>asks</code> بازگردانده می‌شوند.</strong> هر یک از این آرایه‌ها شامل دوتایی‌های «قیمت، مقدار» هستند که در هر دوتایی، مقدار قیمت، تجمیع شده و گرد شده با دقت مناسب بازار مورد نظر است.</p>

<p>همچنین زمان آخرین به‌روزرسانی نمودار عمق ذیل پارامتر <code>lastUpdate</code> به فرمت یونیکس داده می‌شود.</p>

<p>همچنین، مبلغ آخرین معامله ذیل پارامتر <code>lastTradePrice</code> ارسال می‌شود. </p>
<h3 id='9ed355a0f6'>روش پیشنهادی نگهداری نمودار عمق</h3>
<p>در صورتی که در کد خود نیاز به نگهداری آخرین وضعیت نمودار عمق نوبیتکس هستید، در یک حلقه اقدام به دریافت نمودار عمق نوبیتکس نمایید. حتماً در میان هر دو بار اجرای حلقه حداقل یک تا ده ثانیه صبر نمایید و از فراخوانی پیاپی و بی‌مکث خودداری کنید. به دلیل وجود لایه‌های کش، در صورت فراخوانی در بازه‌های زیر یک ثانیه، همان داده فراخوانی قبلی را دریافت خواهید نمود.</p>
<h2 id='3fe8d57657'>لیست معاملات</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/v2/trades/BCHIRT'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/v2/trades/BCHIRT
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1588689375067</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1470000110"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1588689360464</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1470000110"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.002"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت لیست معاملات از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>GET v2/trades/SYMBOL</code></li>
<li><strong>محدودیت فراخوانی:</strong> 60 درخواست در دقیقه</li>
<li><strong>نیاز به ارسال توکن:</strong> ندارد</li>
</ul>
<h3 id='f9f1b685f9-3'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>الزامی</td>
<td>نماد</td>
<td><code>BTCIRT</code></td>
</tr>
</tbody></table>

<aside class="notice">
لیست نمادهای معتبر بازار ها عبارتند از: <br><span class="market-symbols"></span>
</aside>

<p>پارامتر بازگشتی time زمان دقیق انجام شدن معامله است که با فرمت <a href="https://fa.wikipedia.org/wiki/%D8%B3%D8%A7%D8%B9%D8%AA_%DB%8C%D9%88%D9%86%DB%8C%DA%A9%D8%B3" target="_blank">یونیکس</a> نمایش داده میشود</p>
<h2 id='6ae2dae4a2'>آمار بازار نوبیتکس</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/market/stats?srcCurrency=btc&amp;dstCurrency=rls'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/market/stats \
  srcCurrency=btc dstCurrency=rls
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"btc-rls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"isClosed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bestSell"</span><span class="p">:</span><span class="w"> </span><span class="s2">"749976360"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bestBuy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"733059600"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"volumeSrc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2929480000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"volumeDst"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212724856.0678640000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"latest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"750350000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mark"</span><span class="p">:</span><span class="w"> </span><span class="s2">"747461987"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dayLow"</span><span class="p">:</span><span class="w"> </span><span class="s2">"686021860"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dayHigh"</span><span class="p">:</span><span class="w"> </span><span class="s2">"750350000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dayOpen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"686021860"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dayClose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"750350000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dayChange"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.38"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت آخرین آمار بازار نوبیتکس از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست</strong> <code>GET /market/stats</code></li>
<li><strong>محدودیت فراخوانی:</strong> 20 درخواست در دقیقه</li>
</ul>
<h3 id='f9f1b685f9-4'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>srcCurrency</td>
<td>string</td>
<td>الزامی</td>
<td>ارزها مبدا</td>
<td><code>btc,usdt</code></td>
</tr>
<tr>
<td>dstCurrency</td>
<td>string</td>
<td>الزامی</td>
<td>ارز مقصد</td>
<td><code>rls</code></td>
</tr>
</tbody></table>

<aside class="notice">
انواع ارز:<br>
<span class="currency-symbols"></span>
</aside>

<aside class="warning">
در شی پاسخ جهت سازگاری با نسخه‌های پیشین، آمار بازار بایننس نیز برگردانده می‌شود.
دقت کنید این قسمت از اطلاعات (متناظر با کلید global) منسوخ شده و در نسخه‌های آتی به طور کامل حذف خواهد شد.
توصیه می‌شود جهت دریافت آمار بازار بایینس از <a href="#cdf265d0e6">آمار بازار جهانی</a> استفاده نمایید.
</aside>
<h2 id='ohlc'>آمار OHLC بازار نوبیتکس</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/market/udf/history?symbol=BTCIRT&amp;resolution=D&amp;from=1562058167&amp;to=1562230967'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/market/udf/history?symbol=BTCIRT&amp;resolution=D&amp;from=1562058167&amp;to=1562230967
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"s"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"t"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1562095800</span><span class="p">,</span><span class="w"> </span><span class="mi">1562182200</span><span class="p">],</span><span class="w">
  </span><span class="nl">"o"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">146272500</span><span class="p">,</span><span class="w"> </span><span class="mi">150551000</span><span class="p">],</span><span class="w">
  </span><span class="nl">"h"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">155869600</span><span class="p">,</span><span class="w"> </span><span class="mi">161869500</span><span class="p">],</span><span class="w">
  </span><span class="nl">"l"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">140062400</span><span class="p">,</span><span class="w"> </span><span class="mi">150551000</span><span class="p">],</span><span class="w">
  </span><span class="nl">"c"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">151440200</span><span class="p">,</span><span class="w"> </span><span class="mi">157000000</span><span class="p">],</span><span class="w">
  </span><span class="nl">"v"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">18.221362316</span><span class="p">,</span><span class="w"> </span><span class="mf">9.8592626506</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای توضیحات بیشتر در مورد  OHLC به <a href="https://en.wikipedia.org/wiki/Open-high-low-close_chart">این لینک</a> مراجعه کنید.<br><br>
برای دریافت  آمار OHLC نوبیتکس از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /market/udf/history</code></li>
</ul>
<h3 id='f9f1b685f9-5'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>string</td>
<td>الزامی</td>
<td>نماد بازار</td>
<td><code>BTCIRT</code></td>
</tr>
<tr>
<td>resolution</td>
<td>string</td>
<td>الزامی</td>
<td>بازه زمانی هر کندل</td>
<td><code>D</code></td>
</tr>
<tr>
<td>to</td>
<td>int</td>
<td>الزامی</td>
<td>زمان پایان بازه</td>
<td><code>1562230967</code></td>
</tr>
<tr>
<td>from</td>
<td>int</td>
<td>اختیاری</td>
<td>زمان ابتدای بازه</td>
<td><code>1562058167</code></td>
</tr>
<tr>
<td>countback</td>
<td>int</td>
<td>اختیاری</td>
<td>تعداد کندل‌های پیش از زمان پایان<br/>(اولویت آن از from بیشتر است)</td>
<td><code>4</code></td>
</tr>
<tr>
<td>page</td>
<td>int</td>
<td><code>1</code></td>
<td>شماره صفحه</td>
<td><code>3</code></td>
</tr>
</tbody></table>

<blockquote>
<p>در صورت ورودی اشتباه برای resolution پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"s"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"errmsg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid resolution!"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li>پارامتر resolution  بازه زمانی  کندل‌های خروجی می‌باشد و مقدار آن می‌تواند یکی از مقادیر زیر باشد:</li>
</ul>

<table><thead>
<tr>
<th>دقیقه‌ای</th>
<th>توضیح</th>
<th>ساعتی</th>
<th>توضیح</th>
<th>روزانه</th>
<th>توضیح</th>
</tr>
</thead><tbody>
<tr>
<td><code>1</code></td>
<td>یک دقیقه</td>
<td><code>60</code></td>
<td>یک ساعت</td>
<td><code>D</code></td>
<td>یک روز</td>
</tr>
<tr>
<td><code>5</code></td>
<td>پنج دقیقه</td>
<td><code>180</code></td>
<td>سه ساعت</td>
<td><code>2D</code></td>
<td>دو روز</td>
</tr>
<tr>
<td><code>15</code></td>
<td>یک ربع</td>
<td><code>240</code></td>
<td>چهار ساعت</td>
<td><code>3D</code></td>
<td>سه روز</td>
</tr>
<tr>
<td><code>30</code></td>
<td>نیم ساعت</td>
<td><code>360</code></td>
<td>شش ساعت</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
<td><code>720</code></td>
<td>دوازده ساعت</td>
<td></td>
<td></td>
</tr>
</tbody></table>

<ul>
<li>مقادیر from و to زمان شروع و پایان جست‌وجو را مشخص می‌کند و با فرمت یونیکس به ثانیه مشخص می‌شود.</li>
</ul>

<blockquote>
<p>در صورت نبودن داده در بازه درخواستی پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"s"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no_data"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<aside class="notice">
کندل‌های دقیقه‌ای بازارها از آغاز سال 1401 در دسترسند و دسترسی به کندل‌های دقیقه‌ای پیش از آن موجود نیست.
</aside>

<aside class="notice">
لیست نمادهای معتبر بازارها عبارتند از:<br/> <span class="market-symbols"></span>
</aside>
<h3 id='b5a1caf9af-3'>پارامترهای پاسخ</h3>
<p>در هر درخواست بسته به پارامتر countback یا بازه زمانی تعیین شده و resolution انتخابی، تعداد کندل‌های برگشتی متفاوت است.
برای مثال تعداد کندل‌های 1 ساعته از تاریخ 2019/2/9 15:39:41 تا چهار ساعت قبل آن، ۴ تاست.</p>

<table><thead>
<tr>
<th>پارامتر</th>
<th>توضیح</th>
<th>نوع</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td><code>s</code></td>
<td>وضعیت پاسخ</td>
<td>string</td>
<td><code>ok</code></td>
</tr>
<tr>
<td><code>t</code></td>
<td>شروع زمان</td>
<td>[ ] int</td>
<td><code>[1562182200]</code></td>
</tr>
<tr>
<td><code>o</code></td>
<td>قیمت شروع</td>
<td>[ ] float</td>
<td><code>[150551000]</code></td>
</tr>
<tr>
<td><code>h</code></td>
<td>بیشترین قیمت</td>
<td>[ ] float</td>
<td><code>[161869500]</code></td>
</tr>
<tr>
<td><code>l</code></td>
<td>کمترین قیمت</td>
<td>[ ] float</td>
<td><code>[150551000]</code></td>
</tr>
<tr>
<td><code>c</code></td>
<td>قیمت پایانی</td>
<td>[ ] float</td>
<td><code>[157000000]</code></td>
</tr>
<tr>
<td><code>v</code></td>
<td>حجم معاملات</td>
<td>[ ] float</td>
<td><code>[9.8592626506]</code></td>
</tr>
</tbody></table>

<ul>
<li>در هر درخواست حداکثر 500 کندل بازگردانده می‌شود. برای بازیابی همه کندل‌های یک بازه با بیش از 500 کندل، از پارامتر page برای صفحه‌بندی استفاده نمایید.</li>
</ul>
<h2 id='cdf265d0e6'>آمار بازار جهانی</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/market/global-stats'</span> <span class="se">\</span>
  <span class="nt">-X</span> POST

</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/market/global-stats
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"ltc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"kraken"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41.69"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"kraken"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5517.2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">

    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت آمار بازارهای جهانی از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>POST /market/global-stats</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۱۰۰ درخواست در ۱۰ دقیقه</li>
</ul>

<aside class="notice">
این آمارها مربوط به بازارهای Kraken و Binance می باشد
</aside>
<h1 id='0d2655f072'>اطلاعات کاربر</h1><h2 id='88cb25e727'>پروفایل</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/users/profile'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/users/profile \
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"profile"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"مهدی"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"رضایی"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nationalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"011122333"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02142719000-9012"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"09151111111"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"مشهد"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bankCards"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6037-9900-0000-0000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ملی"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"owner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"مهدی رضایی"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"confirmed"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"bankAccounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1999</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0346666666666"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"shaba"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IR460170000000346666666666"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ملی"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"owner"</span><span class="p">:</span><span class="w"> </span><span class="s2">"مهدی رضایی"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"confirmed"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"verifications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"identity"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"selfie"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bankAccount"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bankCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"nationalSerialNumber"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"pendingVerifications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"identity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"selfie"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bankAccount"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"bankCard"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.35"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feeUsdt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isManualFee"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tfa"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"socialLoginEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"withdrawEligible"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"tradeStats"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"monthTradesTotal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10867181.5365000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"monthTradesCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>این api، اطلاعات پروفایل شما، کارت بانکی، حساب بانکی، موارد تایید شده(ایمیل، شماره تلفن، موبایل ...)، تنظمیات مربوط به پروفایل(فی تراکنش، فی مبادلات usdt و ...) و خلاصه آمار مبادلات شما را برمیگرداند.</p>

<p>برای دریافت پروفایل کاربر از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /users/profile</code></li>
</ul>
<h3 id='f9f1b685f9'>پارامترهای ورودی</h3>
<p>برای دریافت پاسخ، کافیست توکن احراز هویت را ارسال نمایید</p>
<h2 id='87af031464'>تولید آدرس بلاکچین</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/users/wallets/generate-address'</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"currency":"btc"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/users/wallets/generate-address \
  currency=btc
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LRf3vuTMy4UwD5b72G84hmkfGBQYJeTwUs"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای تولید آدرس بلاکچین از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>POST /users/wallets/generate-address</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۳۰ درخواست در ساعت</li>
</ul>
<h3 id='f9f1b685f9-2'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>currency <sup class="badge">ارجح</sup></td>
<td>string</td>
<td>الزامی (جایگزین wallet)</td>
<td>رمزارز کیف</td>
<td><code>btc</code></td>
</tr>
<tr>
<td>wallet <sup class="badge">قدیمی</sup></td>
<td>string</td>
<td>(در نبود currency الزامی)</td>
<td>شناسه کیف پول</td>
<td><code>4159</code></td>
</tr>
</tbody></table>

<aside class="notice">
برای ایجاد آدرس بلاکچین می‌توانید از currency کیف مقصد استفاده نمایید. ارسال wallet برای ایجاد آدرس قدیمی است و توصیه نمی‌شود.
</aside>
<h2 id='f9fd4e8e3a'>افزودن کارت بانکی</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/users/cards-add'</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"number":"5041721011111111","bank":"رسالت"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/users/cards-add \
  number=5041721011111111 bank=رسالت
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای افزودن کارت بانکی جدید از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>POST /users/cards-add</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۳۰ درخواست در هر ۳۰ دقیقه</li>
</ul>
<h3 id='f9f1b685f9-3'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>number</td>
<td>string</td>
<td>الزامی</td>
<td>شماره کارت</td>
<td><code>5041721011111111</code></td>
</tr>
<tr>
<td>bank</td>
<td>string</td>
<td>الزامی</td>
<td>نام بانک</td>
<td><code>رسالت</code></td>
</tr>
</tbody></table>
<h2 id='0f4b9b52e8'>افزودن حساب بانکی</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/users/accounts-add'</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"number":"5041721011111111","shaba":"IR111111111111111111111111","bank":"رسالت"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/users/accounts-add \
  number=5041721011111111 shaba=IR111111111111111111111111 bank=رسالت
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای افزودن حساب بانکی جدید از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>POST /users/accounts-add</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۳۰ درخواست در ۳۰ دقیقه</li>
</ul>
<h3 id='f9f1b685f9-4'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>number</td>
<td>string</td>
<td>الزامی</td>
<td>شماره حساب</td>
<td><code>5041721011111111</code></td>
</tr>
<tr>
<td>shaba</td>
<td>string</td>
<td>الزامی</td>
<td>شماره شبا</td>
<td><code>IR111111111111111111111111</code></td>
</tr>
<tr>
<td>bank</td>
<td>string</td>
<td>الزامی</td>
<td>نام بانک</td>
<td><code>رسالت</code></td>
</tr>
</tbody></table>
<h2 id='e2ecdd60d4'>محدودیت های کاربر</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/users/limitations'</span> <span class="se">\</span>
  <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/users/limitations
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"limitations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"userLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"level2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"crypto_trade"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rial_trade"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"coin_deposit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rial_deposit"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"coin_withdrawal"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rial_withdrawal"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"limits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"withdrawRialDaily"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"used"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"900000000"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"withdrawCoinDaily"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"used"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000000000"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"withdrawTotalDaily"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"used"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000000000"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"withdrawTotalMonthly"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"used"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30000000000"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='55bbd4b9a8'>توضیحات</h3>
<p>کاربران در نوبیتکس بر اساس سطح کاربری خود، محدودیت هایی در برداشت، واریز و مبادلات خود دارند. هر کاربر نسبت به نیاز خود و میزان مبادلاتی که دارد میتواند با ارائه مدارک مورد نیاز ، سطح کاربری خود را پس از احراز هویت و تایید مدراک، ارتقا دهد. اطلاعات نمایش داده شده در خروجی api شامل همین محدودیت ها میباشد:</p>

<p>برای دریافت محدودیت های کاربر از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>POST /users/limitations</code></li>
</ul>
<h3 id='f9f1b685f9-5'>پارامترهای ورودی</h3>
<ul>
<li>در این بخش به ورودی نیاز نیست.</li>
<li>توکن دریافتی از بخش لاگین باید در هدر ارسال شود.</li>
</ul>
<h3 id='8c43ac4221'>پارامترهای خروجی</h3><h3 id='features'>features: شرایط حساب کاربری</h3>
<ul>
<li>crypto_trade: امکان مبادله رمز ارزها</li>
<li>rial_trade: امکان مبادله با ریال</li>
<li>coin_deposit: امکان واریز رمز ارز به کیف پول نوبیتکس</li>
<li>rial_deposit: امکان واریز ریال به کیف پول نوبیتکس</li>
<li>coin_withdrawal: امکان برداشت رمز ارز از کیف پول نوبیتکس به کیف پول دیگر</li>
<li>rial_withdrawal: امکان برداشت ریال از کیف پول نوبیتکس به حساب بانکی</li>
</ul>
<h3 id='limits'>limits: محدودیت های حساب کاربری</h3>
<ul>
<li>withdrawRialDaily: مقدار مجاز برای برداشت روزانه ریال</li>
<li>withdrawRialDaily: مقدار مجاز برای برداشت روزانه رمز ارز</li>
<li>withdrawTotalDaily: مقدار مجاز برای برداشت روزانه مجموع رمز ارز و ریال</li>
<li>withdrawTotalMonthly: مقدار مجاز برای برداشت ماهیانه مجموع رمز ارز و ریال</li>
</ul>
<h3 id='2f74b9d52e'>نکات و ملاحظات</h3>
<ol>
<li>تمامی مبالغ در خروجی به ریال هستند.</li>
<li>برای اطلاع از جزئیات سطوح کاربری، میزان محدودیت ها، مدارک مورد نیاز هر سطح و توضیحات کامل هر سطح به <a href="https://nobitex.net/policies/user-levels/">سطوح حساب کاربری در نوبیتکس</a> مراجعه کنید.
#اطلاعات مالی کاربر</li>
</ol>
<h2 id='1100025d2c'>لیست کیف پول ها</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/users/wallets/list'</span> <span class="se">\</span>
  <span class="nt">--header</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/users/wallets/list \
  Authorization=Token yourTOKENhereHEX0000000000
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"wallets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"depositAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"depositTag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"depositInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"FIAT_MONEY"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2693280</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"746212980"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockedBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"activeBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"746212980"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rialBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">746212980</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rialBalanceSell"</span><span class="p">:</span><span class="w"> </span><span class="mi">746212980</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"depositAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bc1qp8dvtrhgjae6qhjfmvs2dj80ck0hgdjs6ts720"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"depositTag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"depositInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC-LEGACY"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bc1qp8dvtrhgjae6qhjfmvs2dj80ck0hgdjs6ts720"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BTCLN"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BSC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">133778</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockedBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"activeBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rialBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rialBalanceSell"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت لیست کیف پول های کاربر از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /users/wallets/list</code></li>
<li><strong>محدودیت فراخوانی:</strong> 20 درخواست در 2 دقیقه</li>
</ul>
<h3 id='2f74b9d52e-2'>نکات و ملاحظات</h3>
<ol>
<li>کیف پول یک رمزارز در صورتی برای کاربر ایجاد می‌شود که کاربر سفارشی در بازار آن رمزارز ثبت کرده و یا آدرس واریز برای آن ایجاد کرده باشد.
این ویژگی در رمزارزهای آتی نوبیتکس نمایش خواهد یافت. برای رمزارزهای قدیمی کاربران سابق، همه کیف‌پول‌های از پیش موجود کاربر باقی خواهند ماند.</li>
<li>    در برخی از موارد به دلیل کنترل بار ترافیک ورودی این سرویس، ممکن است پاسخ مورد انتظار دریافت نگردد، در این حالت می بایست مجددا فراخوانی را انجام داد و یا اینکه از <a href="#1ff004071d">این سرویس</a> برای دریافت لیست کیف پول ها استفاده نمائید</li>
<li>برای مشخص کردن نوع کیف پول (spot or margin) میتوانید نوع آن را با استفاده از پارامتر type مشخص نمایید. به صورت پیش فرض کیف پول‌های spot لیست خواهند شد</li>
</ol>
<h2 id='1ff004071d'>لیست کیف پول ها (انتخابی)</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/v2/wallets?currencies=rls,btc'</span> <span class="se">\</span>
  <span class="nt">--header</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/v2/wallets \
  Authorization=Token yourTOKENhereHEX0000000000
  currencies=rls,btc
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"wallets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"RLS"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">133777</span><span class="p">,</span><span class="w">
            </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0E-10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"blocked"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"BTC"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">133778</span><span class="p">,</span><span class="w">
            </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0E-10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"blocked"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت لیست کیف پول های کاربر از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /v2/wallets</code></li>
<li><strong>محدودیت فراخوانی:</strong> 15 درخواست در دقیقه</li>
</ul>
<h3 id='f9f1b685f9-6'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>currencies</td>
<td>string</td>
<td>اختیاری</td>
<td>نوع کیف پول(ارز)، به صورت رشته ای از ارزهای جداشده با کاما</td>
<td><code>rls,btc</code></td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td><code>spot</code></td>
<td>نوع کیف پول (اسپات یا فروش تعهدی)</td>
<td><code>spot</code> یا <code>margin</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e-3'>نکات و ملاحظات</h3>
<p>کیف پول یک رمزارز در صورتی برای کاربر ایجاد می‌شود که کاربر سفارشی در بازار آن رمزارز ثبت کرده و یا آدرس واریز برای آن ایجاد کرده باشد.
این ویژگی در رمزارزهای آتی نوبیتکس نمایش خواهد یافت. برای رمزارزهای قدیمی کاربران سابق، همه کیف‌پول‌های از پیش موجود کاربر باقی خواهند ماند.</p>
<h2 id='55645b2c6d'>موجودی</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/users/wallets/balance'</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">--header</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"currency":"ltc"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/users/wallets/balance \
  currency=ltc
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.2649975000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت موجودی کیف پول های خود در نوبیتکس (شامل کیف پول ریالی و کیف پول های رمز ارزی) از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>POST /users/wallets/balance</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۶۰ درخواست در ۲ دقیقه</li>
</ul>
<h3 id='f9f1b685f9-7'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>الزامی</td>
<td>نوع کیف پول(ارز)</td>
<td><code>ltc</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e-4'>نکات و ملاحظات</h3>
<ol>
<li>مقدار بازگشتی برای موجودی، یک عدد است که به صورت string برگردانده میشود. این مقدار می‌تواند اعداد اعشاری زیادی داشته باشد.</li>
<li>اگر قصد محاسبات مهمی بر روی این اعداد را دارید، پیشنهاد ما این است که از انواع fixed precision برای نگهداری این اعداد استفاده کنید.</li>
</ol>
<h2 id='ae038c6100'>لیست تراکنش‌ها</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/users/wallets/transactions/list?wallet=4159'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/users/wallets/transactions/list \
  wallet=4159
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ltc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-17T09:41:08.519151+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"calculatedFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">99050</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.3802000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"خرید 4.400 LTC به قیمت واحد ﷼7450000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ltc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-04T13:05:01.384902+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"calculatedFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">96541</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-1.0000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Withdraw to </span><span class="se">\"</span><span class="s2">Lgn1zc77mEjk72KvXPqyXq8K1mAfcDE6YR</span><span class="se">\"</span><span class="s2">"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"hasNext"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت آخرین آمار بازار نوبیتکس از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /users/wallets/transactions/list</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۶۰ درخواست در ۲ دقیقه</li>
<li><strong><a href="#pagination">صفحه بندی:</a></strong> دارد (پیشفرض ۵۰)</li>
</ul>
<h3 id='f9f1b685f9-8'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>wallet</td>
<td>int</td>
<td>الزامی</td>
<td>شناسه کیف پول(id)</td>
<td><code>4159</code></td>
</tr>
</tbody></table>
<h2 id='18a62645f3'>لیست واریزها</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/users/wallets/deposits/list?wallet=4159'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/users/wallets/deposits/list \
  wallet=4159
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"deposits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"txHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c5d84268a0bf02307b5a0460a68b61987a9b3009d3a82a817e41558e619ec1d2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32KfyTNh162UoKithfDrWHZPYq5uePGmf7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0000000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deposit - address:36n452uGq1x4mK7bfyZR8wgE47AnBb2pzi, tx:c5d84268a0bf02307b5a0460a68b61987a9b3009d3a82a817e41558e619ec1d2"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-06T03:56:18+00:00"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"calculatedFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"blockchainUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://btc.com/c5d84268a0bf02307b5a0460a68b61987a9b3009d3a82a817e41558e619ec1d2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"requiredConfirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0000000000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"hasNext"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت لیست واریزها از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /users/wallets/deposits/list</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۶۰ درخواست در ۲ دقیقه</li>
<li><strong><a href="#pagination">صفحه بندی:</a></strong> دارد (پیشفرض ۱۰برای ریال و ۲۰برای سایر)</li>
<li><strong><a href="#date-filter">فیلترزمانی:</a></strong> دارد</li>
</ul>
<h3 id='f9f1b685f9-9'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>wallet</td>
<td>string</td>
<td>all</td>
<td>شناسه کیف پول</td>
<td><code>4159</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e-5'>نکات و ملاحظات</h3>
<ul>
<li>از این طریق واریزهای حداکثر سه ماهه اخیر قابل نمایش است.</li>
<li>صفحه بندی و فیلترزمانی فقط برای حالتی است که wallet تعیین شده باشد و برای حالت پیشفرض یعنی all کارایی ندارد.</li>
</ul>

<h2 id="favorite_market"> بازارهای مورد علاقه</h2>

<p>با استفاده از این امکان، کاربران قادر خواهند بود بازارهای مورد علاقه خود را مشخص کنند.</p>
<h3 id='920ab8c079'>دریافت لیست بازارهای مورد علاقه</h3><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/users/markets/favorite'</span> <span class="se">\</span>
  <span class="nt">-X</span> GET

</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/users/markets/favorite
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"favoriteMarkets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"XLMIRT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"BTCUSDT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"BTCIRT"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li><strong>درخواست:</strong> <code>GET /users/markets/favorite</code></li>
<li><strong>محدودیت فراخوانی:</strong> 6 درخواست در ۱ دقیقه</li>
<li><strong>نیاز به ارسال توکن:</strong> دارد</li>
</ul>
<h3 id='ee14ef8257'>ثبت بازار(های) مورد علاقه</h3><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/users/markets/favorite'</span> <span class="se">\</span>
  <span class="nt">-X</span> POST

</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/users/markets/favorite
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"favoriteMarkets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"BTCIRT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DOGEUSDT"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li><strong>درخواست:</strong> <code>POST /users/markets/favorite</code></li>
<li><strong>محدودیت فراخوانی:</strong> 12 درخواست در ۱ دقیقه</li>
<li><strong>نیاز به ارسال توکن:</strong> دارد</li>
</ul>
<h3 id='9753420ab8'>پارامتر ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>string</td>
<td>الزامی</td>
<td>نماد بازار comma-separated</td>
<td><code>BTCIRT</code> or <code>BTCIRT,DOGEUSDT</code></td>
</tr>
</tbody></table>

<aside class="notice">
لیست نمادهای معتبر بازارها عبارتند از:<br/> <span class="market-symbols"></span>
</aside>
<h3 id='eee19bdcdb'>حذف بازار مورد علاقه</h3><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/users/markets/favorite'</span> <span class="se">\</span>
  <span class="nt">-X</span> DELETE

</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http DELETE https://api.nobitex.ir/users/markets/favorite
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"favoriteMarkets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"BTCIRT"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"DOGEUSDT"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li><strong>درخواست:</strong> <code>DELETE /users/markets/favorite</code></li>
<li><strong>محدودیت فراخوانی:</strong> 12 درخواست در ۱ دقیقه</li>
<li><strong>نیاز به ارسال توکن:</strong> دارد</li>
</ul>
<h3 id='9753420ab8-2'>پارامتر ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>string</td>
<td>الزامی</td>
<td>نماد بازار  و یا All برای حذف همه</td>
<td><code>All</code> or <code>BTCIRT</code></td>
</tr>
</tbody></table>
<h1 id='a71101fce2'>معامله در بازار اسپات</h1><h2 id='e12b63a512'>ثبت سفارش جدید</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/market/orders/add'</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"type":"buy","srcCurrency":"btc","dstCurrency":"rls","amount":"0.6","price":520000000,"clientOrderId":"order1"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/market/orders/add \
  type=buy srcCurrency=btc dstCurrency=rls amount=0.6 price=520000000 clientOrderId=order1
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ریال"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"520000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"312000000.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unmatchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"partial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-28T11:36:13.592827+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order1"</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای ثبت سفارش معامله در بازار نوبیتکس از این درخواست استفاده نمایید.</p>

<ul>
<li><strong>درخواست:</strong>: <code>POST /market/orders/add</code></li>
<li><strong>محدودیت فراخوانی:</strong> 300 درخواست در هر ۱۰ دقیقه</li>
</ul>

<p>ثبت سفارش الزاماً به معنی انجام معامله نیست و بسته به نوع و قیمت سفارش و وضعیت لحظه‌ای بازار ممکن است معامله انجام شود یا نشود. با درخواست «مشاهده وضعیت سفارش» می‌توانید از وضعیت سفارش خود مطلع شوید.</p>

<p>سفارش‌ها پس از ثبت، پیش از ورود به دفتر معاملاتی و انجام معامله، مجدداً از نظر اعتبار مورد بررسی قرار گرفته و در صورت نامعتبر بودن، به وضعیت «رد شده» برده خواهند شد. به همین علت در صورتی که سفارش‌های شما ثبت می‌شود ولی بلافاصله به وضعیت «رد شده» تغییر حالت پیدا می‌کنند، پارامترهای ارسالی خود به ویژه مقدار و قیمت سفارش و موجودی حساب خود را دقیق‌تر بررسی نمایید.</p>
<h3 id='f9f1b685f9'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>الزامی</td>
<td>نوع سفارش</td>
<td><code>buy</code> یا <code>sell</code></td>
</tr>
<tr>
<td>execution</td>
<td>string</td>
<td><code>limit</code></td>
<td>نحوه‌ی اجرای سفارش</td>
<td><code>market</code>: با قیمت بازار<br/><code>limit</code>: با قیمت معین</td>
</tr>
<tr>
<td>srcCurrency</td>
<td>string</td>
<td>الزامی</td>
<td>رمزارز مبدا</td>
<td><code>btc</code> یا <code>eth</code> یا <code>xrp</code> یا ...</td>
</tr>
<tr>
<td>dstCurrency</td>
<td>string</td>
<td>الزامی</td>
<td>رمزارز مقصد</td>
<td><code>rls</code> یا <code>usdt</code></td>
</tr>
<tr>
<td>amount</td>
<td>monetary</td>
<td>الزامی</td>
<td>مقدار رمزارز (حجم)</td>
<td><code>0.0623</code></td>
</tr>
<tr>
<td>price</td>
<td>monetary</td>
<td>الزامی</td>
<td>قیمت واحد</td>
<td><code>1210000000</code></td>
</tr>
<tr>
<td>clientOrderId</td>
<td>string</td>
<td><code>null</code></td>
<td>شناسه سفارش کاربر، تا ۳۲ کاراکتر،‌ یکتا  برای هر کاربر و در میان سفارش های open/active/inactive (آزمایشی)</td>
<td><code>order1</code></td>
</tr>
</tbody></table>

<blockquote>
<p>نمونه سفارش حد ضرر:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/market/orders/add'</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"type":"sell","srcCurrency":"doge","dstCurrency":"rls","amount":"64","execution":"stop_market","stopPrice":47500,"clientOrderId":"order1"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/market/orders/add \
  type=sell srcCurrency=doge dstCurrency=rls amount=64 execution=stop_market stopPrice=47500 clientOrderId=order1
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"execution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"StopMarket"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOGE-RLS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dogecoin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"</span><span class="se">\u</span><span class="s2">fdfc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"market"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"param1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47500"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalOrderPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3008000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unmatchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inactive"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"partial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-17T12:14:18.005896+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"averagePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order1"</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='01ec6c25ad'>سفارش حد ضرر</h3>
<p>این سفارش در زمان رسیدن قیمت بازار به قیمت توقف فعال خواهد شد. کاربرد اصلی آن، جلوگیری از زیان در صورت تغییر غیرمنتظره قیمت بازار است.
با ثبت این نوع سفارش می‌توان بدون نیاز به رصد مداوم بازار، در صورت خروج قیمت از بازه مد نظر، اقدام به تبدیل دارایی نمود.</p>
<h4 id='4971e0ccb3'>پارامترهای ویژه حد ضرر</h4>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>execution</td>
<td>string</td>
<td>الزامی</td>
<td>نحوه‌ی اجرای سفارش</td>
<td><code>stop_market</code>: حد ضرر<br/><code>stop_limit</code>: حد ضرر معین</td>
</tr>
<tr>
<td>stopPrice</td>
<td>monetary</td>
<td>الزامی</td>
<td>قیمت توقف</td>
<td><code>1180000000</code></td>
</tr>
</tbody></table>

<blockquote>
<p>نمونه سفارش OCO:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/market/orders/add'</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"type":"buy","srcCurrency":"btc","dstCurrency":"usdt","amount":"0.01","mode":"oco","price":42390,"stopPrice":42700,"stopLimitPrice":42715,"clientOrderId":"order1"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/market/orders/add \
  type=buy srcCurrency=btc dstCurrency=usdt amount=0.01 mode=oco price=42390 stopPrice=42700 stopLimitPrice=42715 clientOrderId=order1
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"execution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tether"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42390"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalOrderPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"423.9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"matchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unmatchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-10T10:12:38.402795+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pairId"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"execution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"StopLimit"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USDT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tether"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42715"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"param1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"42700"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalOrderPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"427.15"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"matchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unmatchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Inactive"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-10T10:12:38.402795+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pairId"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='oco'>سفارش OCO</h3>
<p>یک سفارش OCO در واقع متشکل از دو سفارش است: یک سفارش با <em>قیمت معین</em>، و یک سفارش با <em>حد ضرر معین</em>.</p>

<p>در صورتی که هر کدام از این دو سفارش انجام شوند، سفارش دیگر لغو خواهد شد.
به عنوان مثال، اگر قیمت بازار، به قیمت سفارش معین برسد، سفارش معین اجرا می‌شود و سفارش حد ضرر، به طور خودکار لغو می‌گردد.
عکس این حالت نیز برقرار است. اگر قیمت به حد ضرر تعیین شده برسد، سفارش حد ضرر اجرا شده، سفارش با قیمت معین لغو می‌گردد.</p>
<h4 id='oco-2'>پارامترهای ویژه OCO</h4>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>mode</td>
<td>string</td>
<td>الزامی</td>
<td>حالت سفارش</td>
<td><code>oco</code></td>
</tr>
<tr>
<td>stopPrice</td>
<td>monetary</td>
<td>الزامی</td>
<td>قیمت توقف حد ضرر</td>
<td><code>1180000000</code></td>
</tr>
<tr>
<td>stopLimitPrice</td>
<td>monetary</td>
<td>الزامی</td>
<td>قیمت حد ضرر</td>
<td><code>1179500000</code></td>
</tr>
</tbody></table>

<aside class="notice">
شرط قیمت سفارش OCO:
<ul>
<li><b>خرید:</b> price < آخرین قیمت بازار < stopPrice و stopLimitPrice</li>
<li><b>فروش:</b> price > آخرین قیمت بازار > stopPrice و stopLimitPrice</li>
</ul>
</aside>
<h3 id='eec2b3e8e4'>حالت‌های خطا</h3>
<blockquote>
<p>در صورت عدم پذیرش سفارش، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErrorCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Human readable error message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>در صورتی که درخواست ثبت سفارش معتبر نباشد، ممکن است یکی از این خطاها برگردانده شود. در صورت دریافت هر یک از این خطاها، آن سفارش شما ثبت نشده است و در صورت تمایل باید درخواست ثبت آن سفارش را دوباره ارسال کنید.</p>

<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>InvalidOrderPrice</td>
<td>قیمت سفارش (price) تعیین نشده یا اشتباه است</td>
</tr>
<tr>
<td>BadPrice</td>
<td>در سفارش عادی: قیمت تعیین شده برای سفارش نسبت به قیمت فعلی بازار تفاوت زیادی دارد. قیمت سفارش خود را در بازه‌ی ۳۰٪ قیمت کنونی بازار تعیین کنید.<br/> در سفارش حد ضرر: قیمت تعیین شده برای سفارش بازار نمی‌تواند از قیمت توقف بهتر باشد.</td>
</tr>
<tr>
<td>PriceConditionFailed</td>
<td>شرط قیمت در سفارش لحاظ نشده است. شرط قیمت میان پارامترهای قیمتی و قیمت بازار تعریف می‌شود.</td>
</tr>
<tr>
<td>OverValueOrder</td>
<td>مقدار سفارش فروش (amount) یا ارزش کل سفارش خرید (amount*price) از موجودی کیف پول نوبیتکس شما کمتر است.</td>
</tr>
<tr>
<td>SmallOrder</td>
<td>حداقل ارزش معامله رعایت نشده است. حداقل ارزش معامله برای بازارهای ریالی، 3 میلیون ریال و برای بازارهای تتری، ۱۱ تتر است و مبلغ کل سفارش (amount*price) باید بیشتر از این حداقل باشد.</td>
</tr>
<tr>
<td>DuplicateOrder</td>
<td>سفارشی با همین مشخصات توسط کاربر شما در بازه زمانی ده ثانیه اخیر ارسال شده است.</td>
</tr>
<tr>
<td>InvalidMarketPair</td>
<td>رمزارز مبدا (srcCurrency) یا رمزارز مقصد (dstCurrency) به درستی مقداردهی نشده است یا چنین بازاری در نوبیتکس وجود ندارد.</td>
</tr>
<tr>
<td>MarketClosed</td>
<td>بازار مد نظر در حال حاضر به صورت موقت بسته است.</td>
</tr>
<tr>
<td>TradingUnavailable</td>
<td>کاربر اجازه‌ی معامله ندارد، فرآیند احراز هویت خود را تکمیل نمایید.</td>
</tr>
<tr>
<td>FeatureUnavailable</td>
<td>شما از کاربران مجاز به استفاده از امکانات آزمایشی نیستید.</td>
</tr>
<tr>
<td>DuplicateClientOrderId</td>
<td>شناسه سفارش کاربر تکراری است (برای هر کاربر در لحطه فقط یه سفارش open/active/inactive با یک شماره سفارش ممکن است).</td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e'>نکات و ملاحظات</h3>
<ol>
<li><strong>واحدها:</strong> واحد قیمت در بازارهای ریالی به ریال (و نه تومان) می‌باشد. واحد قیمت در بازارهای تتری نیز تتر می‌باشد. واحد پارامتر مقدار (amount) بر حسب رمزارز مبدا (srcCurrency) است.</li>
<li><strong>سفارش مارکت:</strong> برای ثبت سفارش سریع (سفارش مارکت، سفارش به قیمت بازار)، مقدار پارامتر <code>execution</code> را برابر <code>market</code> ارسال نمایید. منظور از سفارش مارکت سفارشی است که کاربر درخواست دارد تا به بهترین قیمت موجود بازار مورد انجام قرار گیرد. <a href="https://www.binance.vision/tutorials/what-is-a-market-order">ℹB</a> - <a href="https://www.investopedia.com/terms/m/marketorder.asp">ℹI</a></li>
<li><strong>تعیین محدوده مورد انتظار قیمت:</strong> در سفارش‌های مارکت به شدت توصیه می‌شود که پارامتر <code>price</code> را نیز مشخص نمایید. این پارامتر در سفارش مارکت تخمین شما از قیمت بازار را نمایش می‌دهد و باعث می‌شود سفارش شما تنها تا جایی پر شود که قیمت معامله در بازه‌ی قیمتی مشخص شده باشد. برای نمونه اگر نوع سفارش خرید مارکت باشد و قیمت ۱۰۰ میلیون تومان تعیین شود، تنها تا جایی در بازار range کشیده می‌شود که قیمت زیر ۱۰۱ میلیون تومان باشد. برای پیش‌گیری از معاملات با قیمت ناخواسته به علت نوسانات دفعی بازار، پیشنهاد می‌شود که حتماً قیمت تقریبی مد نظر خود را در سفارش‌های مارکت نیز ارسال کنید. با این حال اگر اطمینان به کد خود و تبعات احتمالی این موضوع دارید، می‌توانید پارامتر <code>price</code> را اصلاً ارسال ننمایید که در این شرایط معامله با قیمت لحظه‌ای بازار جهانی، به هر میزان که باشد تا بازه نوسان ۱٪، انجام خواهد شد.</li>
<li><strong>دقت مقادیر پولی (monetary):</strong> نوع monetary که در پارامترهای <code>amount</code> و <code>price</code> به کار می‌رود، بسته به بازار هر رمزارز، تعداد رقم اعشار متغیری بین ۰ تا ۸ رقم دارد. در صورت ارسال مقادیر با ارقام اعشاری بیشتر، ارقام بی‌معنی در مقدار به پایین و در قیمت به روش بانکداری گرد خواهند شد.<br><a href="https://nobitex.ir/policies/markets/" title="بازارهای رمزارزی نوبیتکس">مشاهده جدول دقت‌ها</a></li>
<li><strong>clientOrderId</strong>: دقت کنید که این پارامتر برای هر کاربر در میان سفارش های open/active/inactive یکتاست.</li>
<li><strong>سفارش تکراری:</strong> برای جلوگیری از ثبت سفارش تکراری ناشی از اختلالات شبکه و سرور، در صورتی که دو یا چند سفارش با پارامترهای ورودی کاملاً مشابه از جمله نوع و قیمت و مقدار، در بازه‌ی زمانی کمتر از ده ثانیه ارسال نمایید، تنها سفارش اول پذیرفته می‌شود و باقی درخواست‌های مشابه تا ده ثانیه پیام خطای <code>DuplicateOrder</code> دریافت می‌کنند. (غیرفعال در حالت Pro)
توصیه می‌شود در صورت استفاده از این حالت Pro حتما از پارامتر <code>clientOrderId</code> استفاده نمایید تا از ثبت سفارش تکراری ناشی از اختلالات شبکه و سرور جلوگیری نماید.</li>
</ol>
<h2 id='0c113519df'>مشاهده وضعیت سفارش</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/market/orders/status'</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"id":5684}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/market/orders/status \
  id=5684
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"unmatchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0E-10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"matchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0E-10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"partial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8500000.0000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-28T12:25:22.696029+00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5684</span><span class="p">,</span><span class="w">
        </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Litecoin"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"totalPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25500000.00000000000000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"</span><span class="se">\u</span><span class="s2">fdfc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"isMyOrder"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.0000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت وضعیت سفارش از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>POST /market/orders/status</code></li>
<li><strong>محدودیت فراخوانی:</strong> 60 درخواست در هر دقیقه</li>
</ul>
<h3 id='b37895e837'>پارامترهای ورودی:</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>int</td>
<td>اختیاری</td>
<td>شناسه سفارش</td>
<td><code>5684</code></td>
</tr>
<tr>
<td>clientOrderId</td>
<td>string</td>
<td>اختیاری</td>
<td>شناسه سفارش کاربر (آزمایشی)</td>
<td><code>order1</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e-2'>نکات و ملاحظات</h3>
<ol>
<li>حتما باید حداقل یکی از دو پارامتر ‍<code>order</code> و <code>clientOrderId</code> ارسال شوند.</li>
<li>اگر هر دو پارامتر ‍<code>order</code> و <code>clientOrderId</code>  ارسال شوند، اولویت با <code>id</code> است.</li>
<li><code>clientOrderId</code> فقط در میان سفارشات open/active/inactive جستجو میشود.</li>
<li><code>clientOrderId</code> .در حالت آزمایشی است و ممکن است در آینده تغییر کند</li>
</ol>

<p><strong>انواع مقادیر <code>status</code>:</strong></p>

<ul>
<li>Active: سفارش مقدار پر نشده (<code>unmatched_amount</code>) برای شرکت در معاملات دارد و در بازار فعال است.</li>
<li>Done: سفارش تماما معامله شده است.</li>
<li>Inactive: سفارش حد ضرر هنوز به محدوده قیمت توقف تعیین شده نرسیده و غیرفعال است.</li>
<li>Canceled: سفارش پیش از پر شدن کامل توسط کاربر یا سامانه لغو شده است.
سفارش به چند دلیل می‌تواند توسط سامانه لغو شود:

<ul>
<li>مقدار سفارش کافی در بازار در بازه ۱٪ قیمت تعیین شده برای پر کردن سفارش وجود نداشته است.</li>
<li>موجودی کیف پول کاربر از طریق سایر تراکنش‌ها کاهش یافته است و از موجودی لازم برای پر شدن معامله کمتر شده است.</li>
</ul></li>
</ul>
<h3 id='eec2b3e8e4-2'>حالت‌های خطا</h3>
<blockquote>
<p>در صورت عدم پذیرش سفارش، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErrorCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Human readable error message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>NullIdAndClientOrderId</td>
<td>باید یکی از دو پارامتر <code>id</code> و <code>clientOrderId</code>  ارسال شود</td>
</tr>
</tbody></table>
<h2 id='a2ce8ff7e3'>فهرست سفارش‌های کاربر</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/market/orders/list?srcCurrency=btc&amp;dstCurrency=usdt&amp;details=2'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/market/orders/list \
  srcCurrency=btc dstCurrency=usdt details=2
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">173546223</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"execution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tether"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9750.01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"matchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0E-10"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"averagePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0E-10"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت فهرست سفارش‌های خود، از این درخواست استفاده نمایید.</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /market/orders/list</code></li>
<li><strong>محدودیت فراخوانی:</strong> 30 درخواست در دقیقه</li>
<li><strong><a href="/#pagination">صفحه بندی:</a></strong> دارد (پیش فرض ۱۰۰۰)</li>
</ul>
<h3 id='f9f1b685f9-2'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td><code>open</code></td>
<td>وضعیت سفارش</td>
<td><code>all</code> یا <code>open</code> یا <code>done</code> یا <code>close</code></td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>تمام انواع سفارش</td>
<td>نوع سفارش‌های مد نظر، خرید یا فروش</td>
<td><code>sell</code> یا <code>buy</code></td>
</tr>
<tr>
<td>execution</td>
<td>string</td>
<td>تمام انواع سفارش گذاری‌ها</td>
<td>لیست سفارشات با نحوه سفارش‌گذاری مشخص</td>
<td><code>limit</code>, <code>market</code>, <code>stop_limit</code>, <code>stop_market</code></td>
</tr>
<tr>
<td>tradeType</td>
<td>string</td>
<td>تمام انواع سفارش</td>
<td>نوع سفارش اسپات یا فروش تعهدی</td>
<td><code>spot</code> یا <code>margin</code></td>
</tr>
<tr>
<td>srcCurrency</td>
<td>string</td>
<td>تمام رمزارزها</td>
<td>رمزارز مبدا</td>
<td><code>btc</code> یا <code>eth</code> یا <code>xrp</code> یا ...</td>
</tr>
<tr>
<td>dstCurrency</td>
<td>string</td>
<td>تمام رمزارزها</td>
<td>رمزارز مقصد</td>
<td><code>rls</code> یا <code>usdt</code></td>
</tr>
<tr>
<td><a href="#details">details</a></td>
<td>int</td>
<td><code>1</code></td>
<td>میزان جزئیات پاسخ، اعداد بزرگ‌تر تعداد فیلدهای بیشتری را از وضعیت هر سفارش بازمی‌گرداند</td>
<td><code>1</code> یا <code>2</code></td>
</tr>
<tr>
<td>fromId</td>
<td>int</td>
<td><code>1</code></td>
<td>با مشخص کردن این پارامتر سفارشات با شناسه بزرگتر از این عدد لیست خواهند شد</td>
<td><code>100</code></td>
</tr>
<tr>
<td>order</td>
<td>string</td>
<td>متغیر براساس پارامترهای <code>fromId</code> و <code>type</code></td>
<td>ترتیب دریافت سفارشات</td>
<td><code>id</code> یا <code>created_at</code> یا <code>price</code> به صورت صعودی و یا به صورت نزولی با اضافه کردن<code>-</code> به ابتدای کلید</td>
</tr>
</tbody></table>
<h3 id='ff0e6a1f27'>توضیحات تکمیلی پارامترهای ورودی</h3>
<ul>
<li>وضعیت سفارش یکی از مقادیر زیر می‌تواند باشد:

<ul>
<li><code>all</code>: سفارش‌های در تمامی وضعیت‌ها در پاسخ بازگردانده می‌شوند.</li>
<li><code>open</code>: سفارش‌های باز، شامل سفارش‌های فعال و غیرفعال بازگردانده می‌شوند. منظور از سفارش‌های باز غیرفعال، مثلاً سفارش‌های حد ضرری است که هنوز فعال نشده باشند.</li>
<li><code>done</code>: سفارش‌هایی که بخشی یا تمام آن پر شده باشند بازگردانده می‌شوند.</li>
<li><code>close</code>: سفارش‌هایی که وضعیت آن‌ها «انجام شده» یا «لغو شده» باشد بازگردانده می‌شوند.</li>
</ul></li>
<li><p>دو وضعیت <code>active</code> و <code>undone</code> از موارد قدیمی بوده و دیگر پشتیبانی نمی‌شوند.</p></li>
<li><p>پارامتر ترتیب ارسال سفارشات می‌تواند یکی از مقادیر زیر را داشته باشد:</p>

<ul>
<li><code>id</code> یا <code>-id</code>: سفارش‌ها به ترتیب شناسه‌ی سفارش به صورت صعودی و یا نزولی (در صورت ارسال علامت <code>-</code>) بازگردانده می‌شوند.</li>
<li><code>created_at</code> یا <code>-created_at</code>: سفارش‌ها در پاسخ براساس زمان سفارش‌گذاری به صورت صعودی/نزولی مرتب می‌شوند.</li>
<li><code>price</code> یا <code>-price</code>: سفارش‌ها در پاسخ بر اساس قیمتشان به صورت صعودی/نزولی مرتب می‌شوند.</li>
</ul></li>
<li><p>در صورتیکه پارامتر ترتیب ارسال سفارشات در درخواست ارسال نشود:</p>

<ul>
<li>اگر پارامتر fromId در درخواست ارسال شده باشد سفارش‌ها در پاسخ براساس شناسه‌ی سفارش به صورت نزولی مرتب می‌شوند.</li>
<li>اگر پارامتر نوع سفارش ارسال نشده باشد، سفارش‌ها در پاسخ به ترتیب زمان ایجاد سفارش به صورت نزولی بازگردانده می‌شوند.</li>
<li>اگر نوع سفارش با مقدار <code>خرید</code> تعیین شده باشد سفارش‌ها به‌ترتیب قیمت به صورت نزولی و اگر نوع سفارش با مقدار <code>فروش</code> تعیین شده باشد سفارش‌هاس به ترتیب قیمت به صورت صعودی بازگردانده می‌شوند.</li>
</ul></li>
</ul>
<h3 id='b5a1caf9af'>پارامترهای پاسخ</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>orders</td>
<td>list of Order</td>
<td>فهرست سفارش‌های کاربر</td>
<td><code>[{...Order...}, ...]</code></td>
</tr>
</tbody></table>
<h3 id='order'>شی Order</h3>
<table><thead>
<tr>
<th>فیلد</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>نو ع خرید یا فروش سفارش</td>
<td><code>buy</code> یا <code>sell</code></td>
</tr>
<tr>
<td>execution</td>
<td>string</td>
<td>نوع اجرای سفارش</td>
<td><code>Limit</code> یا <code>Market</code> یا <code>StopMarket</code> یا <code>StopLimit</code></td>
</tr>
<tr>
<td>tradeType</td>
<td>string</td>
<td>نوع معامله سفارش</td>
<td><code>Spot</code> یا <code>Margin</code></td>
</tr>
<tr>
<td>srcCurrency</td>
<td>string</td>
<td>رمزارز مبدا سفارش</td>
<td><code>Bitcoin</code> یا <code>Ethereum</code> یا <code>TRON</code> یا ...</td>
</tr>
<tr>
<td>dstCurrency</td>
<td>string</td>
<td>رمزارز مقصد سفارش</td>
<td><code>﷼</code> یا <code>Tether</code></td>
</tr>
<tr>
<td>price</td>
<td>monetary</td>
<td>قیمت ثبت شده برای سفارش</td>
<td><code>2900000000</code> یا <code>market</code></td>
</tr>
<tr>
<td>amount</td>
<td>monetary</td>
<td>مقدار ثبت شده برای سفارش</td>
<td><code>0.023324</code></td>
</tr>
<tr>
<td>matchedAmount</td>
<td>monetary</td>
<td>مقدار پر شده از سفارش</td>
<td><code>0.012001</code></td>
</tr>
<tr>
<td>param1</td>
<td>monetary</td>
<td>قیمت توقف در حد ضرر</td>
<td><code>2790000000</code></td>
</tr>
</tbody></table>

<p><br id="details">همچنین در صورتی که پارامتر <code>details=2</code> باشد این فیلدها نیز برای هر سفارش بازگردانده می‌شود:</p>

<table><thead>
<tr>
<th>فیلد</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>int</td>
<td>شناسه سفارش</td>
<td><code>180258791</code></td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>وضعیت فعلی سفارش</td>
<td><code>New</code> یا <code>Active</code> یا <code>Inactive</code> یا <code>Done</code> یا <code>Canceled</code></td>
</tr>
<tr>
<td>fee</td>
<td>monetary</td>
<td>کارمزد سفارش تاکنون</td>
<td><code>0.00001</code></td>
</tr>
<tr>
<td>created_at</td>
<td>datetime</td>
<td>تاریخ ایجاد سفارش</td>
<td><code>2020-07-15T11:32:38.326809+00:00</code></td>
</tr>
<tr>
<td>averagePrice</td>
<td>monetary</td>
<td>میانگین قیمت اجرا شده از سفارش</td>
<td><code>2899500000</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e-3'>نکات و ملاحظات</h3>
<ol>
<li>در پاسخ حداکثر اطلاعات هزار سفارش بازگردانده می‌شود. با استفاده از پارامترهای ورودی می‌توانید تعداد محدودتری از سفارش‌های خود را دریافت کنید. همچنین پیشنهاد می‌شود که در صورتی که تعداد زیادی سفارش باز دارید، شناسه آن‌ها را در زمان ثبت سفارش دریافت و ذخیره نمایید و به صورت مستقل با استفاده از درخواست «مشاهده وضعیت سفارش» اطلاعات هر یک را بنا به نیاز به‌روز کنید. همچنین برای اطلاع از معاملات انجام شده خود می‌توانید از درخواست <a href="/#1cf6f6c643">فهرست معاملات کاربر</a> استفاده نمایید.</li>
<li>منظور از وضعیت Done سفارشی است که به صورت صد در صد اجرا شده باشد. ممکن است سفارش شما به تدریج اجرا شود، و در این حالت وضعیت آن کماکان Active می‌ماند. از فیلد matchedAmount برای تشخیص وضعیت اجرا و پر شدن سفارش استفاده کنید. همچنین ممکن است سفارش شما قبل از اجرای کامل، به دلیل درخواست «لغو سفارش» یا کمبود موجودی یا تغییر شدید قیمت بازار (در سفارش‌های مارکت) لغو شود که در این حالت وضعیت آن Canceled خواهد بود، به این معنی که به صورت صد در صد اجرا نشده است ولی می‌تواند مقدار matchedAmount آن بزرگ‌تر از صفر باشد.</li>
<li>این API متناظر مواردی مانند <a href="https://binance-docs.github.io/apidocs/spot/en/#current-open-orders-user_data" rel="nofollow" target="_blank">Current Open Orders</a> و <a href="https://binance-docs.github.io/apidocs/spot/en/#all-orders-user_data" rel="nofollow" target="_blank">All Orders</a> در اکسچنج بایننس است.</li>
</ol>
<h2 id='4a50e713bf'>تغییر وضعیت سفارش</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/market/orders/update-status'</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"order":5684,"status":"canceled"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/market/orders/update-status \
  order=5684 status=canceled
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Canceled"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای تغییر وضعیت یک سفارش (لغو یا فعال‌سازی) از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>POST /market/orders/update-status</code></li>
<li><strong>محدودیت فراخوانی:</strong> 60 درخواست در دقیقه</li>
</ul>
<h3 id='f9f1b685f9-3'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>order</td>
<td>int</td>
<td>اختیاری</td>
<td>شناسه سفارش</td>
<td><code>5684</code></td>
</tr>
<tr>
<td>clientOrderId</td>
<td>string</td>
<td>اختیاری</td>
<td>شناسه سفارش کاربر (آزمایشی)</td>
<td><code>order1</code></td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>الزامی</td>
<td>وضعیت جدید</td>
<td><code>canceled</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e-4'>نکات و ملاحظات</h3>
<ol>
<li>حتما باید حداقل یکی از دو پارامتر ‍<code>order</code> و <code>clientOrderId</code> ارسال شوند.</li>
<li>اگر هر دو پارامتر ‍<code>order</code> و <code>clientOrderId</code>  ارسال شوند، اولویت با <code>id</code> است.</li>
<li><code>clientOrderId</code> فقط در میان سفارشات open/active/inactive جستجو میشود.</li>
<li><code>clientOrderId</code> .در حالت آزمایشی است و ممکن است در آینده تغییر کند</li>
<li>مقدار status میتواند از &#39;new&#39; به &#39;active&#39; و یا از &#39;active&#39;/&#39;inactive&#39; به &#39;cancel&#39; تغییر کند.
در غیر اینصورت، درخواست رد میشود.</li>
<li>در صورتی که سفارش درخواست شده جزئی از یک سفارش OCO انجام نشده باشد، هر دو سفارش مرتبط لغو خواهند شد.</li>
</ol>
<h3 id='eec2b3e8e4-3'>حالت‌های خطا</h3>
<blockquote>
<p>در صورت عدم پذیرش سفارش، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErrorCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Human readable error message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>NullIdAndClientOrderId</td>
<td>باید یکی از دو پارامتر <code>id</code> و <code>clientOrderId</code>  ارسال شود</td>
</tr>
</tbody></table>
<h2 id='2a3bc4fdc6'>لغو جمعی سفارشات</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/market/orders/cancel-old'</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"execution":"limit","srcCurrency":"btc","dstCurrency":"rls","hours":2.4}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/market/orders/cancel-old \
  execution=limit srcCurrency=btc dstCurrency=rls hours=2.4
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای لغو دسته‌جمعی سفارشات فعال از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>POST /market/orders/cancel-old</code></li>
<li><strong>محدودیت فراخوانی:</strong> 30 درخواست در دقیقه</li>
</ul>
<h3 id='f9f1b685f9-4'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>hours</td>
<td>float</td>
<td>اختیاری</td>
<td>زمان سفارش</td>
<td>4.2</td>
</tr>
<tr>
<td>execution</td>
<td>string</td>
<td>اختیاری</td>
<td>نحوه سفارش</td>
<td><code>market</code> یا <code>limit</code> یا <code>stop_market</code> یا <code>stop_limit</code></td>
</tr>
<tr>
<td>tradeType</td>
<td>string</td>
<td>اختیاری</td>
<td>نوع معامله سفارش</td>
<td><code>spot</code> یا <code>margin</code></td>
</tr>
<tr>
<td>srcCurrency</td>
<td>string</td>
<td>اختیاری</td>
<td>ارز مبدا</td>
<td><code>btc</code></td>
</tr>
<tr>
<td>dstCurrency</td>
<td>string</td>
<td>اختیاری</td>
<td>ارز مقصد</td>
<td><code>rls</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e-5'>نکات و ملاحظات</h3>
<ol>
<li>مقدار hours در واقع مقدار ساعت قبل از زمان ارسال درخواست میباشد. برای مثال اگر مقدار ساعت &#39;2&#39; ارسال شود، سفارش های 2 ساعت قبل لغو خواهند شد.</li>
<li>در صورتی که مقدار hours ارسال نشود، تمامی سفارشات فعال مربوط لغو خواهد شد.</li>
<li>سفارشات حد ضرر غیرفعال غیر OCO مشمول این نوع لغو نخواهند شد.</li>
<li>در بعضی شرایط امکان دارد به شما خطا پاسخ داده شود. این خطاها در فیلد error برگردانده میشوند.</li>
</ol>
<h3 id='eec2b3e8e4-4'>حالت‌های خطا</h3>
<blockquote>
<p>در صورت عدم پذیرش سفارش، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErrorCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Human readable error message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='1cf6f6c643'>فهرست معاملات کاربر</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/market/trades/list?srcCurrency=usdt&amp;dstCurrency=rls'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/market/trades/list?srcCurrency=usdt&amp;dstCurrency=rls
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123412</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1231222</span><span class="p">,</span><span class="w">
      </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tether"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"﷼"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT-RLS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-07-05T09:57:38.560820+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"316800"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57.3605"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18171806.4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"27257.7096"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"hasNext"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت فهرست معاملات ۳ روز اخیر خود، از این درخواست استفاده نمایید.</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /market/trades/list</code></li>
<li><strong>محدودیت فراخوانی:</strong> 20 درخواست در دقیقه</li>
<li><strong><a href="/#pagination">صفحه بندی:</a></strong> دارد (پیش فرض ۳۰)</li>
</ul>
<h3 id='f9f1b685f9-5'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>srcCurrency</td>
<td>string</td>
<td>اختیاری</td>
<td>رمزارز مبدا بازار</td>
<td><code>btc</code> یا  ...</td>
</tr>
<tr>
<td>dstCurrency</td>
<td>string</td>
<td>اختیاری</td>
<td>رمزارز مقصد بازار</td>
<td><code>rls</code> یا <code>usdt</code></td>
</tr>
<tr>
<td>fromId</td>
<td>int</td>
<td>اختیاری</td>
<td>حداقل شناسه</td>
<td>10023</td>
</tr>
</tbody></table>

<ul>
<li>در فیلتر بازار هر دو پارامتر رمزارز مبدا و مقصد باید مقدار داشته باشند یا هر دو خالی باشند.</li>
<li>در صورت اختصاص مقدار به حداقل شناسه تنها معاملاتی که شناسه‌ی آن‌ها بیشتر از یا مساوی با حداقل شناسه است برگردانده می‌شوند.</li>
</ul>
<h3 id='b5a1caf9af-2'>پارامترهای پاسخ</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>trades</td>
<td>list of Trade</td>
<td>فهرست معاملان کاربر</td>
<td><code>[{...Trade...}, ...]</code></td>
</tr>
<tr>
<td>hasNext</td>
<td>boolean</td>
<td>صفحه بعدی دارد؟</td>
<td><code>false</code></td>
</tr>
</tbody></table>
<h3 id='trade'>شی Trade</h3>
<table><thead>
<tr>
<th>فیلد</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>int</td>
<td>شناسه‌ی معامله</td>
<td>122545</td>
</tr>
<tr>
<td>orderId</td>
<td>int</td>
<td>شناسه‌ی سفارش</td>
<td>214534534434</td>
</tr>
<tr>
<td>srcCurrency</td>
<td>string</td>
<td>رمزارز مبدا معامله</td>
<td><code>Bitcoin</code> یا <code>Ethereum</code> یا <code>TRON</code> یا ...</td>
</tr>
<tr>
<td>dstCurrency</td>
<td>string</td>
<td>ارز مقصد معامله</td>
<td><code>﷼</code> یا <code>Tether</code></td>
</tr>
<tr>
<td>market</td>
<td>string</td>
<td>نماد بازار معامله</td>
<td><code>USDT-RLS</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>زمان انجام معامله</td>
<td><code>2022-07-05T09:57:38.560820+00:00</code></td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>نوع خرید یا فروش</td>
<td><code>buy</code> یا <code>sell</code></td>
</tr>
<tr>
<td>price</td>
<td>monetary</td>
<td>قیمت انجام معامله</td>
<td><code>316800</code></td>
</tr>
<tr>
<td>amount</td>
<td>monetary</td>
<td>مقدار معامله شده</td>
<td><code>57.3605</code></td>
</tr>
<tr>
<td>total</td>
<td>monetary</td>
<td>قیمت کل معامله</td>
<td><code>18171806.4</code></td>
</tr>
<tr>
<td>fee</td>
<td>monetary</td>
<td>کارمزد معامله</td>
<td><code>27257.7096</code></td>
</tr>
</tbody></table>
<h1 id='a876cd1a69'>معامله در بازار تعهدی</h1>
<p>موقعیت خرید و فروش تعهدی امکان معامله وکالتی را برای کاربران فراهم می‌کند.
استفاده از این ویژگی به منزله پذیرش <a href="https://nobitex.ir/position-terms/">شروط، قوانین و ضوابط معاملات تعهدی</a> در نوبیتکس است.</p>

<aside class="notice">
موقعیت خرید در مرحله تست بتا قرار دارد.
</aside>
<h2 id='3f2eb2d88c'>مشاهده بازارهای معاملات تعهدی</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/margin/markets/list'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/margin/markets/list
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"markets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BTCIRT"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"positionFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxLeverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sellEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"BTCUSDT"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"positionFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxLeverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sellEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DOGEIRT"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"doge"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"positionFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxLeverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sellEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"DOGEUSDT"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"doge"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"positionFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxLeverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sellEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buyEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت بازارهای پشتیبانی شده برای معاملات تعهدی از این درخواست استفاده نمایید.</p>

<ul>
<li><strong>درخواست:</strong>: <code>GET /margin/markets/list</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۳۰ درخواست در هر دقیقه</li>
</ul>
<h3 id='b5a1caf9af'>پارامترهای پاسخ</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td>وضعیت پاسخ</td>
<td><code>ok</code></td>
</tr>
<tr>
<td>نماد بازار</td>
<td>MarginMarketSetting</td>
<td>تنظیمات بازار تعهدی</td>
<td><code>{&quot;srcCurrency&quot;: &quot;btc&quot;, ...}</code></td>
</tr>
</tbody></table>
<h3 id='marginmarketsetting'>شی MarginMarketSetting</h3>
<table><thead>
<tr>
<th>فیلد</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>srcCurrency</td>
<td>string</td>
<td>رمزارز مبدا بازار</td>
<td><code>btc</code> یا <code>eth</code> یا <code>trx</code> یا ...</td>
</tr>
<tr>
<td>dstCurrency</td>
<td>string</td>
<td>رمزارز مقصد بازار</td>
<td><code>rls</code> یا <code>usdt</code></td>
</tr>
<tr>
<td>positionFeeRate</td>
<td>decimal</td>
<td>نرخ کارمزد تمدید روزانه</td>
<td><code>0.001</code></td>
</tr>
<tr>
<td>maxLeverage</td>
<td>decimal</td>
<td>بیشینه ضریب مجاز بازار</td>
<td><code>5</code></td>
</tr>
<tr>
<td>sellEnabled</td>
<td>boolean</td>
<td>قابلیت فروش تعهدی</td>
<td><code>true</code></td>
</tr>
<tr>
<td>buyEnabled</td>
<td>boolean</td>
<td>قابلیت خرید تعهدی</td>
<td><code>true</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e'>نکات و ملاحظات</h3>
<ol>
<li>بیشینه ضریب مجاز بازار هم به عمق بازار و هم به سطح کاربری وابسته است.
بدین منظور برای دریافت مقدار دقیق با توجه سطح کاربری تان، درخواست را همراه با توکن احراز هویت خود ارسال نمایید.</li>
<li>نرخ کارمزد تمدید روزانه به صورت پله‌ای بر اساس ارزش دارایی وکالت گرفته شده تعیین می‌شود.
برای اطلاعات بیشتر به قوانین معاملات تعهدی مراجعه نمایید.</li>
</ol>
<h2 id='e89b27b30c'>مشاهده استخرهای مشارکت ارزی فعال</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/liquidity-pools/list'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/liquidity-pools/list
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"pools"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"btc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"capacity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"filledCapacity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28.082343"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15.879876"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"ltc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"capacity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"filledCapacity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"149.234"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63.987"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"doge"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"capacity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"filledCapacity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"120890.34"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>استخرهای مشارکت موجودی مورد نیاز برای اعطای وکالت خرید و فروش تعهدی را تامین می‌کنند.
ظرفیت مشارکت افراد در معاملات تعهدی را موجودی استخرها تعیین می‌کنند. استخرها ممکن است در زمان‌هایی فعال و غیرفعال شوند.
در استخرهای غیرفعال امکان ثبت سفارش جدید تعهدی وجود ندارد (اما بستن موقعیت همچنان میسر است).
برای دریافت ظرفیت استخرهای فعال از این درخواست استفاده نمایید.</p>

<ul>
<li><strong>درخواست:</strong>: <code>GET /liquidity-pools/list</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۱۲ درخواست در هر دقیقه</li>
</ul>
<h2 id='ff12aded16'>انتقال پول به کیف‌پول تعهدی</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.nobitex.ir/wallets/transfer'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"currency": "rls", "amount": "2500000000", "src": "spot", "dst": "margin"}'</span>

</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/liquidity-pools/list \
  currency=rls&amp;amount=2500000000&amp;src=spot&amp;dst=margin
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"srcWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">53456</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1870000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"blockedBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"420000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"activeBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1450000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rialBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1870000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rialBalanceSell"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1870000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"depositAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"depositTag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"depositInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"FIAT_MONEY"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"dstWallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">86459</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2500000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"blockedBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"activeBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2500000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rialBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2500000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rialBalanceSell"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2500000000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>وجوه تضمین قبل از دریافت وکالت خرید و فروش تعهدی باید در کیف‌پول تعهدی قرار گیرند.
برای انتقال موجودی میان دو کیف‌پول اسپات و تعهدی از این درخواست استفاده نمایید.</p>

<ul>
<li><strong>درخواست:</strong>: <code>POST /wallets/transfer</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۱۰ درخواست در هر دقیقه</li>
</ul>
<h3 id='f9f1b685f9'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>الزامی</td>
<td>ارز وجه تضمین</td>
<td><code>rls</code> یا <code>usdt</code></td>
</tr>
<tr>
<td>amount</td>
<td>monetary</td>
<td>الزامی</td>
<td>مقدار انتقال</td>
<td><code>2500000000</code></td>
</tr>
<tr>
<td>src</td>
<td>string</td>
<td>الزامی</td>
<td>نوع کیف‌پول مبدا</td>
<td><code>spot</code> یا <code>margin</code></td>
</tr>
<tr>
<td>dst</td>
<td>string</td>
<td>الزامی</td>
<td>نوع کیف‌پول مقصد</td>
<td><code>spot</code> یا <code>margin</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e-2'>نکات و ملاحظات</h3>
<ol>
<li>نوع کیف‌پول مبدا و مقصد نباید یکسان باشد.</li>
<li>کیف‌پول تعهدی ضمن اولین انتقال به آن ایجاد می‌شود.
پس از آن موجودی این کیف‌پول را می‌توان از طریق <a href="/#1ff004071d">لیست کیف‌پول‌ها</a> مشاهده کرد.</li>
</ol>
<h3 id='eec2b3e8e4'>حالت‌های خطا</h3>
<blockquote>
<p>در صورت عدم پذیرش درخواست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"InsufficientBalance"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Amount cannot exceed active balance"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>ParseError</td>
<td>فرمت ورودی‌ها مطابق فرمت خواسته شده نیست.</td>
</tr>
<tr>
<td>InvalidAmount</td>
<td>مقدار نامعتبر است.</td>
</tr>
<tr>
<td>SameDestination</td>
<td>کیف مبدا و مقصد از یک نوع (هر دو اسپات یا هر دو تعهدی) است.</td>
</tr>
<tr>
<td>WalletNotFound</td>
<td>کیف‌پول تعهدی برای ارزهای غیر از ریال و تتر وجود ندارد.</td>
</tr>
<tr>
<td>InsufficientBalance</td>
<td>مقدار انتقال از موجودی آزاد کیف‌پول مبدا بیشتر است.</td>
</tr>
</tbody></table>
<h2 id='3f24676a34'>دریافت محدودیت کاربری در مقدار وکالت</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/margin/delegation-limit?currency=btc'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> 

</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/margin/delegation-limit \
  currency=btc
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.039062"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت سقف مقدار قابل استفاده در موقعیت‌های خرید و فروش که متناسب با سطح کاربری است، از این درخواست استفاده کنید.
در موقعیت فروش از موجودی رمزارز مبدا بازار و در موقعیت خرید از موجودی رمزارز مقصد بازار استعلام بگیرید.</p>

<ul>
<li><strong>درخواست:</strong>: <code>GET /margin/delegation-limit</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۱۲ درخواست در هر دقیقه</li>
</ul>
<h3 id='f9f1b685f9-2'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>currency</td>
<td>string</td>
<td>الزامی</td>
<td>رمزارز درخواستی برای اخذ وکالت (رمزارز مبدا بازار)</td>
<td><code>btc</code> یا ...</td>
</tr>
</tbody></table>
<h3 id='eec2b3e8e4-2'>حالت‌های خطا</h3>
<blockquote>
<p>در صورت عدم پذیرش درخواست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErrorCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Human readable error message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>ParseError</td>
<td>فرمت ورودی‌ها مطابق فرمت خواسته شده نیست.</td>
</tr>
<tr>
<td>TradeLimitation</td>
<td>کاربر سطح احراز کافی ندارد.</td>
</tr>
<tr>
<td>UnsupportedMarginSrc</td>
<td>رمزارز درخواستی برای معاملات خرید/فروش تعهدی پشتیبانی نمی‌شود.</td>
</tr>
<tr>
<td>MarginClosed</td>
<td>معاملات خرید/فروش تعهدی بسته شده یا باز نشده است.</td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e-3'>نکات و ملاحظات</h3>
<ol>
<li>با هر بار باز کردن سفارش جدید، این سقف کاهش یافته و با بستن موقعیت و تسویه این سقف افزایش می‌یابد.
به نوعی این مقدار برابر میزان باقیمانده از مقدار مجاز کاربری شما بری وکالت گیری می‌باشد.</li>
<li>مقدار هر سفارش فروش تعهدی باید همواره از سقف وکالت باقیمانده رمزارز مبدا کمتر باشد.</li>
<li>ارزش کل هر سفارش خرید تعهدی (قیمت × مقدار) باید همواره از سقف وکالت باقیمانده ارز مقصد کمتر باشد.</li>
</ol>
<h2 id='01bc967ada'>درج سفارش تعهدی</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.nobitex.ir/margin/orders/add'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"srcCurrency": "btc", "dstCurrency": "rls", "leverage": "2", "amount": "0.01", "price": "6400000000"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/margin/orders/add \
  srcCurrency=btc&amp;dstCurrency=rls&amp;amount=0.01&amp;price=6400000000
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"execution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Margin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6400000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalOrderPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unmatchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"open"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"partial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-10-20T11:36:13.592827+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"averagePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای درج سفارش در بازار تعهدی از این درخواست استفاده نمایید.</p>

<ul>
<li><strong>درخواست:</strong>: <code>POST /margin/orders/add</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۱۰۰ درخواست در هر ۱۰ دقیقه</li>
</ul>
<h3 id='f9f1b685f9-3'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>execution</td>
<td>string</td>
<td><code>limit</code></td>
<td>نحوه‌ی اجرای سفارش</td>
<td><code>limit</code> یا ...</td>
</tr>
<tr>
<td>srcCurrency</td>
<td>string</td>
<td>الزامی</td>
<td>رمزارز مبدا بازار</td>
<td><code>btc</code> یا  ...</td>
</tr>
<tr>
<td>dstCurrency</td>
<td>string</td>
<td>الزامی</td>
<td>ارز مقصد بازار</td>
<td><code>rls</code> یا <code>usdt</code></td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>sell</td>
<td>جهت خرید یا فروش</td>
<td><code>sell</code> یا <code>buy</code></td>
</tr>
<tr>
<td>leverage</td>
<td>monetary</td>
<td>1</td>
<td>ضریب وکالت</td>
<td><code>2</code></td>
</tr>
<tr>
<td>amount</td>
<td>monetary</td>
<td>الزامی</td>
<td>مقدار مورد تقاضای وکالت</td>
<td><code>0.01</code></td>
</tr>
<tr>
<td>price</td>
<td>monetary</td>
<td>الزامی</td>
<td>قیمت سفارش گذاری</td>
<td><code>13400000000</code></td>
</tr>
<tr>
<td>stopPrice</td>
<td>monetary</td>
<td>اختیاری</td>
<td>قیمت توقف در حد ضرر</td>
<td><code>12600000000</code></td>
</tr>
</tbody></table>
<h3 id='b5a1caf9af-2'>پارامترهای پاسخ</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>order</td>
<td><a href="/#order">Order</a></td>
<td>سفارش تعهدی</td>
<td><code>{&quot;id&quot;: 25, ...}</code></td>
</tr>
</tbody></table>
<h3 id='oco'>سفارش OCO</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>mode</td>
<td>string</td>
<td>الزامی</td>
<td>حالت سفارش</td>
<td><code>oco</code></td>
</tr>
<tr>
<td>srcCurrency</td>
<td>string</td>
<td>الزامی</td>
<td>رمزارز مبدا بازار</td>
<td><code>btc</code> یا  ...</td>
</tr>
<tr>
<td>dstCurrency</td>
<td>string</td>
<td>الزامی</td>
<td>ارز مقصد بازار</td>
<td><code>rls</code> یا <code>usdt</code></td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>sell</td>
<td>جهت خرید یا فروش</td>
<td><code>sell</code> یا <code>buy</code></td>
</tr>
<tr>
<td>leverage</td>
<td>monetary</td>
<td>1</td>
<td>ضریب وکالت</td>
<td><code>2</code></td>
</tr>
<tr>
<td>amount</td>
<td>monetary</td>
<td>الزامی</td>
<td>مقدار مورد تقاضای وکالت</td>
<td><code>0.01</code></td>
</tr>
<tr>
<td>price</td>
<td>monetary</td>
<td>الزامی</td>
<td>قیمت سفارش گذاری</td>
<td><code>13400000000</code></td>
</tr>
<tr>
<td>stopPrice</td>
<td>monetary</td>
<td>الزامی</td>
<td>قیمت توقف سفارش حد ضرر</td>
<td><code>12600000000</code></td>
</tr>
<tr>
<td>stopLimitPrice</td>
<td>monetary</td>
<td>الزامی</td>
<td>قیمت سفارش حد ضرر</td>
<td><code>12610000000</code></td>
</tr>
</tbody></table>
<h3 id='oco-2'>پارامترهای پاسخ OCO</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>orders</td>
<td>list of <a href="/#order">Order</a></td>
<td>سفارش OCO تعهدی</td>
<td><code>[{&quot;id&quot;: 25, ...}, {&quot;id&quot;: 26, ...}]</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e-4'>نکات و ملاحظات</h3>
<ol>
<li>نوع اجرای سفارش یکی از موارد زیر می‌باشد:

<ul>
<li><code>limit</code>: با قیمت معین</li>
<li><code>market</code>: با قیمت بازار</li>
<li><code>stop_limit</code>: حد ضرر با قیمت معین</li>
<li><code>stop_market</code>: حد ضرر با قیمت بازار</li>
</ul></li>
<li>سفارش‌های خرید و فروش تعهدی ثبت شده را می‌توان در <a href="/#a2ce8ff7e3">فهرست سفارش‌های کاربر</a> مشاهده کرد.</li>
<li>بعد از پر شدن سفارش تعهدی، موقعیت متناظر با آن باز خواهد شد.</li>
<li>شرط قیمت سفارش OCO:

<ul>
<li>خرید: price &lt; آخرین قیمت بازار &lt; stopPrice و stopLimitPrice</li>
<li>فروش: price &gt; آخرین قیمت بازار &gt; stopPrice و stopLimitPrice</li>
</ul></li>
<li>ضریب عددی در محدوده 1 تا ضریب بیشینه هر بازار با دقت 0.5 است، مانند: <code>1</code>, <code>1,5</code>, <code>2</code>, <code>2,5</code> و ...</li>
</ol>
<h3 id='eec2b3e8e4-3'>حالت‌های خطا</h3>
<blockquote>
<p>در صورت عدم پذیرش درخواست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErrorCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Human readable error message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>FeatureUnavailable</td>
<td>شما از کاربران مجاز به استفاده از امکانات آزمایشی نیستید.</td>
</tr>
<tr>
<td>ParseError</td>
<td>فرمت ورودی‌ها مطابق فرمت خواسته شده نیست.</td>
</tr>
<tr>
<td>TradeLimitation</td>
<td>کاربر سطح احراز کافی ندارد.</td>
</tr>
<tr>
<td>InvalidMarketPair</td>
<td>زوج مبدا/مقصد بازار در میان بازارهای نوبیتکس وجود ندارد.</td>
</tr>
<tr>
<td>MarketClosed</td>
<td>بازار بسته شده یا هنوز باز نشده است.</td>
</tr>
<tr>
<td>TradingUnavailable</td>
<td>کاربر محدودیت معامله (از جانب پشتیبانی) دارد.</td>
</tr>
<tr>
<td>UnsupportedMarginSrc</td>
<td>رمزارز درخواستی برای معاملات خرید/فروش تعهدی پشتیبانی نمی‌شود.</td>
</tr>
<tr>
<td>MarginClosed</td>
<td>معاملات خرید/فروش تعهدی بسته شده یا باز نشده است.</td>
</tr>
<tr>
<td>AmountUnavailable</td>
<td>مقدار مورد تقاضا برای اخذ وکالت فروش در استخر موجود نیست.</td>
</tr>
<tr>
<td>ExceedDlegationLimit</td>
<td>مقدار از سقف مجاز فروش باقی‌مانده کاربر بیشتر است.</td>
</tr>
<tr>
<td>InsufficientBalance</td>
<td>موجودی کیف‌پول تعهدی کاربر برای تامین وجه تضمین به اندازه مبلغ کل سفارش کافی نیست.</td>
</tr>
<tr>
<td>LeverageTooHigh</td>
<td>ضریب وکالت درخواست از بیشینه مجاز بازار بسته به استخر یا سطح کاربری بیشتر است.</td>
</tr>
<tr>
<td>LeverageUnavailable</td>
<td>کاربر محدودیت استفاده از ضریب وکالت (از جانب پشتیبانی) دارد.</td>
</tr>
<tr>
<td>BadPrice</td>
<td>قیمت سفارش نامعقول است. (مشابه درج سفارش اسپات)</td>
</tr>
<tr>
<td>SmallOrder</td>
<td>سفارش کوچک است و کمینه اندازه سفارش بازار را رعایت نکرده است. (مشابه درج سفارش اسپات)</td>
</tr>
<tr>
<td>PriceConditionFailed</td>
<td>شرط قیمت میان پارامترهای قیمتی و قیمت بازار در سفارش لحاظ نشده است. (مشابه اسپات)</td>
</tr>
<tr>
<td>DuplicateOrder</td>
<td>سفارشی با همین مشخصات توسط شما در بازه زمانی ده ثانیه اخیر ارسال شده است. (مشابه اسپات)</td>
</tr>
</tbody></table>
<h2 id='86d0280e1c'>مشاهده لیست موقعیت‌ها</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/positions/list?srcCurrency=btc&amp;status=active'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> 

</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/positions/list \
  srcCurrency=btc&amp;status=active
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-10-20T11:36:13.604420+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isolated Margin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"collateral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"320000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"openedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-10-20T11:36:16.562038+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"closedAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25174302690"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6400000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exitPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"delegatedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.03"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"liability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0300450676"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"831712000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"marginRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.49"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"liabilityInOrder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"assetInOrder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unrealizedPNL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"−576435"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unrealizedPNLPercent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"−0.09"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-11-20"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"extensionFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"320000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6430000000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-08-14T15:09:58.001901+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Closed"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isolated Margin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"collateral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2130"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"openedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-08-14T15:10:19.937801+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"closedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-08-17T18:39:52.890674+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38986.54"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21300"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19900"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PNL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"118.46"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"PNLPercent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.56"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"hasNext"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت لیست موقعیت‌های باز و تاریخچه موقعیت‌های پایان یافته از این درخواست استفاده کنید.</p>

<ul>
<li><strong>درخواست:</strong>: <code>GET /positions/list</code></li>
<li><p><strong>محدودیت فراخوانی:</strong> ۳۰ درخواست در هر دقیقه</p></li>
<li><p><strong><a href="/#pagination">صفحه‌بندی:</a></strong> دارد (پیش فرض ۵۰)</p></li>
</ul>
<h3 id='f9f1b685f9-4'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>srcCurrency</td>
<td>string</td>
<td>همه</td>
<td>رمزارز مبدا بازار</td>
<td><code>btc</code> یا ...</td>
</tr>
<tr>
<td>dstCurrency</td>
<td>string</td>
<td>همه</td>
<td>ارز مقصد بازار</td>
<td><code>rls</code> یا <code>usdt</code></td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td><code>active</code></td>
<td>وضعیت موقعیت</td>
<td><code>active</code> یا <code>past</code></td>
</tr>
</tbody></table>
<h3 id='b5a1caf9af-3'>پارامترهای پاسخ</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>positions</td>
<td>list of Position</td>
<td>لیست موقعیت‌ها</td>
<td><code>[{... Position ...}]</code></td>
</tr>
<tr>
<td>hasNext</td>
<td>boolean</td>
<td>صفحه بعدی دارد؟</td>
<td><code>false</code></td>
</tr>
</tbody></table>
<h3 id='position'>شی Position</h3>
<table><thead>
<tr>
<th>فیلد</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>int</td>
<td>شناسه‌ی موقعیت</td>
<td>128</td>
</tr>
<tr>
<td>createdAt</td>
<td>string</td>
<td>زمان درخواست وکالت (درج سفارش) تعهدی</td>
<td><code>2022-10-20T11:36:13.604420+00:00</code></td>
</tr>
<tr>
<td>srcCurrency</td>
<td>string</td>
<td>رمزارز مبدا بازار</td>
<td><code>btc</code> یا <code>eth</code> یا <code>trx</code> یا ...</td>
</tr>
<tr>
<td>dstCurrency</td>
<td>string</td>
<td>ارز مقصد بازار</td>
<td><code>rls</code> یا <code>usdt</code></td>
</tr>
<tr>
<td>side</td>
<td>string</td>
<td>جهت خرید و فروش</td>
<td><code>sell</code> یا <code>buy</code></td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>وضعیت</td>
<td><code>Open</code> یا <code>Closed</code> یا <code>Liquidated</code> یا <code>Expired</code></td>
</tr>
<tr>
<td>marginType</td>
<td>string</td>
<td>نوع تضمین سفارش</td>
<td><code>Isolated Margin</code></td>
</tr>
<tr>
<td>collateral</td>
<td>monetary</td>
<td>وجه تضمین بلوکه شده در کیف‌پول تعهدی</td>
<td><code>640000000</code></td>
</tr>
<tr>
<td>leverage</td>
<td>decimal</td>
<td>ضریب وکالت</td>
<td><code>2</code></td>
</tr>
<tr>
<td>openedAt</td>
<td>string</td>
<td>تاریخ باز شدن موقعیت</td>
<td><code>2022-10-20T11:36:16.562038+00:00</code></td>
</tr>
<tr>
<td>closedAt</td>
<td>string</td>
<td>تاریخ تسویه نهایی موقعیت</td>
<td><code>2022-10-25T09:57:38.560820+00:00</code></td>
</tr>
<tr>
<td>liquidationPrice</td>
<td>monetary</td>
<td>قیمت لیکوئید شدن موقعیت</td>
<td><code>25174302690</code></td>
</tr>
<tr>
<td>entryPrice</td>
<td>monetary</td>
<td>میانگین قیمت سفارش باز شدن موقعیت</td>
<td><code>6400000000</code></td>
</tr>
<tr>
<td>exitPrice</td>
<td>monetary</td>
<td>میانگین قیمت سفارش‌های تسویه تعهد</td>
<td><code>6200000000</code></td>
</tr>
<tr>
<td>[ویژه موقعیت باز:]</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>delegatedAmount</td>
<td>monetary</td>
<td>مقدار وکالت گرفته شده در لحظه (به رمزارز مبدا)</td>
<td><code>0.03</code></td>
</tr>
<tr>
<td>liability</td>
<td>monetary</td>
<td>مقدار تعهد</td>
<td><code>0.0300450676</code></td>
</tr>
<tr>
<td>totalAsset</td>
<td>monetary</td>
<td>دارایی کلی (به رمزارز مقصد)</td>
<td><code>831712000</code></td>
</tr>
<tr>
<td>marginRatio</td>
<td>decimal</td>
<td>نسبت تعهد</td>
<td><code>1.49</code></td>
</tr>
<tr>
<td>liabilityInOrder</td>
<td>monetary</td>
<td>بخشی از تعهد که سفارش تسویه باز دارد</td>
<td><code>0</code></td>
</tr>
<tr>
<td>assetInOrder</td>
<td>monetary</td>
<td>بخشی از دارایی کلی که در سفارش تسویه باز است</td>
<td><code>0</code></td>
</tr>
<tr>
<td>unrealizedPNL</td>
<td>monetary</td>
<td>سود و زیان محقق نشده/لحظه‌ای (به رمزارز مقصد)</td>
<td><code>-576435</code></td>
</tr>
<tr>
<td>unrealizedPNLPercent</td>
<td>decimal</td>
<td>درصد سود و زیان محقق نشده/لحظه‌ای</td>
<td><code>−0.09</code></td>
</tr>
<tr>
<td>expirationDate</td>
<td>string</td>
<td>تاریخ انقضای نهایی موقعیت</td>
<td><code>2022-11-20</code></td>
</tr>
<tr>
<td>extensionFee</td>
<td>monetary</td>
<td>مقدار کارمزد تمدید در انتهای روز (به رمزارز مقصد)</td>
<td><code>320000</code></td>
</tr>
<tr>
<td>markPrice</td>
<td>monetary</td>
<td>قیمت معیار بازار در لحظه</td>
<td><code>6430000000</code></td>
</tr>
<tr>
<td>[ویژه موقعیت بسته:]</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>PNL</td>
<td>monetary</td>
<td>سود و زیان نهایی (به رمزارز مقصد)</td>
<td><code>35584000</code></td>
</tr>
<tr>
<td>PNLPercent</td>
<td>decimal</td>
<td>درصد سود و زیان نهایی</td>
<td><code>5.56</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e-5'>نکات و ملاحظات</h3>
<ol>
<li><strong>وضعیت</strong>: این پارامتر در ورودی بر دو قسم است:

<ul>
<li><code>active</code>: موقعیت‌های باز و تسویه نشده</li>
<li><code>past</code>: موقعیت‌های بسته، لیکوئید و منقضی شده که تسویه شده باشد
<br/>همچنین در خروجی بر چند مقدار است:</li>
<li><code>Open</code>: باز -- همه یا بخشی از سفارش تعهدی در بازار پر شده است.</li>
<li><code>Closed</code>: بسته -- کاربر مقدار وکالت گرفته شده را بازپرداخت کرده است.</li>
<li><code>Liquidated</code>: لیکویید شده</li>
<li><code>Expired</code>: منقضی شده -- هر موقعیت از زمان ثبت سفارش اولیه حداکثر ۳۰ روز می‌تواند باز بماند.</li>
</ul></li>
<li><strong>نوع تضمین سفارش</strong>: بر دو قسم می‌تواند باشد.

<ul>
<li><code>Isolated Margin</code>: ضرر حداکثر به اندازه وجه تضمین موقعیت خواهد بود. -- پیش‌فرض</li>
<li><code>Cross Margin</code>: ضرر حداکثر به اندازه تمام موجودی آزاد کیف‌پول تعهدی خواهد بود. -- در آینده</li>
</ul></li>
<li><strong>تعهد خرید</strong>: مقدار وکالت گرفته شده + کارمزد سفارش خرید در موقعیت فروش  یا - کارمزد سفارش خرید در موقعیت خرید</li>
<li><strong>دارایی کلی</strong>: مقدار وجه تضمین + باقی‌مانده وجه حاصل از فروش در موقعیت فروش یا ارزش لحظه‌ای دارایی خریداری شده در موقعیت خرید</li>
<li><strong>نسبت تعهد</strong>:  نسبت اولیه آن ۲ و حداقل نسبت لازم برای لیکوئید نشدن ۱.۱ است.</li>
<li>از زمان لیکویید/منقضی شدن یک موقعیت باز تا زمان تسویه تعهد با سفارش‌گذاری سیستمی و معامله در بازار،
ممکنه است اندکی فاصله ایجاد شود. در این بازه، موقعیت لیکویید/منقضی شده به منزله موقعیت فعال باز می‌گردد.</li>
</ol>
<h3 id='eec2b3e8e4-4'>حالت‌های خطا</h3>
<blockquote>
<p>در صورت عدم پذیرش درخواست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErrorCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Human readable error message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>ParseError</td>
<td>فرمت ورودی‌ها مطابق فرمت خواسته شده نیست.</td>
</tr>
</tbody></table>
<h2 id='99b67fc9a0'>مشاهده یک موقعیت</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/positions/128/status'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> 

</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/positions/128/status
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-10-20T11:36:13.604420+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isolated Margin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"collateral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"320000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-10-20T11:36:16.562038+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closedAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25174302690"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6400000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"exitPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"delegatedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.03"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0300450676"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"831712000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.49"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liabilityInOrder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"assetInOrder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealizedPNL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"−576435"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealizedPNLPercent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"−0.09"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-11-20"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"extensionFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"320000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6430000000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای مشاهده وضعیت یک موقعیت از این درخواست استفاده کنید.</p>

<ul>
<li><strong>درخواست:</strong>: <code>GET /positions/:positionId:/status</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۱۰۰ درخواست در هر ۱۰ دقیقه</li>
</ul>
<h3 id='f9f1b685f9-5'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>:positionId:</td>
<td>url-param</td>
<td>الزامی</td>
<td>شناسه‌ی موقعیت</td>
<td><code>128</code></td>
</tr>
</tbody></table>
<h3 id='b5a1caf9af-4'>پارامترهای پاسخ</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>position</td>
<td><a href="/#position">Position</a></td>
<td>موقعیت</td>
<td><code>{&quot;id&quot;: 128, ...}</code></td>
</tr>
</tbody></table>
<h2 id='c2f4831f50'>بستن موقعیت</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.nobitex.ir/positions/128/close'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"amount": "0.0100150225", "price": "6200000000"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/positions/128/close \
  amount=0.0100150225&amp;price=6200000000
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"execution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Margin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6200000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0100150225"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalOrderPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62093139"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unmatchedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0100150225"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"close"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"partial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-10-25T09:57:38.560820+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"averagePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای بستن موقعیت با درج سفارش در جهت عکس سفارش اولیه جهت تسویه تعهد از این درخواست استفاده نمایید.
به عبارتی با خرید تعهد موقعیت فروش یا فروش تعهد موقعیت خرید موقعیت شما قابل بسته شدن خواهد شد.</p>

<ul>
<li><strong>درخواست:</strong>: <code>POST /positions/:positionId:/close</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۳۰۰ درخواست در هر دقیقه</li>
</ul>
<h3 id='f9f1b685f9-6'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>:positionId:</td>
<td>url-param</td>
<td>الزامی</td>
<td>شناسه‌ی موقعیت</td>
<td><code>128</code></td>
</tr>
<tr>
<td>execution</td>
<td>string</td>
<td><code>limit</code></td>
<td>نحوه‌ی اجرای سفارش</td>
<td><code>limit</code> یا ...</td>
</tr>
<tr>
<td>amount</td>
<td>monetary</td>
<td>الزامی</td>
<td>مقدار سفارش</td>
<td><code>0.0100150225</code></td>
</tr>
<tr>
<td>price</td>
<td>monetary</td>
<td>الزامی</td>
<td>قیمت سفارش</td>
<td><code>12600000000</code></td>
</tr>
<tr>
<td>stopPrice</td>
<td>monetary</td>
<td>اختیاری</td>
<td>قیمت توقف در حد ضرر</td>
<td><code>12600000000</code></td>
</tr>
</tbody></table>
<h3 id='b5a1caf9af-5'>پارامترهای پاسخ</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>order</td>
<td><a href="/#order">Order</a></td>
<td>سفارش خرید تعهد</td>
<td><code>{&quot;id&quot;: 25, ...}</code></td>
</tr>
</tbody></table>
<h3 id='oco-3'>سفارش OCO</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>:positionId:</td>
<td>url-param</td>
<td>الزامی</td>
<td>شناسه‌ی موقعیت</td>
<td><code>128</code></td>
</tr>
<tr>
<td>mode</td>
<td>string</td>
<td>الزامی</td>
<td>حالت سفارش</td>
<td><code>oco</code></td>
</tr>
<tr>
<td>amount</td>
<td>monetary</td>
<td>الزامی</td>
<td>مقدار سفارش</td>
<td><code>0.0100150225</code></td>
</tr>
<tr>
<td>price</td>
<td>monetary</td>
<td>الزامی</td>
<td>قیمت سفارش</td>
<td><code>12600000000</code></td>
</tr>
<tr>
<td>price</td>
<td>monetary</td>
<td>الزامی</td>
<td>قیمت سفارش گذاری</td>
<td><code>13400000000</code></td>
</tr>
<tr>
<td>stopPrice</td>
<td>monetary</td>
<td>الزامی</td>
<td>قیمت توقف سفارش حد ضرر</td>
<td><code>13600000000</code></td>
</tr>
<tr>
<td>stopLimitPrice</td>
<td>monetary</td>
<td>الزامی</td>
<td>قیمت سفارش حد ضرر</td>
<td><code>13610000000</code></td>
</tr>
</tbody></table>
<h3 id='oco-4'>پارامترهای پاسخ OCO</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>orders</td>
<td>list of <a href="/#order">Order</a></td>
<td>سفارش خرید تعهد</td>
<td><code>[{&quot;id&quot;: 25, ...}, {&quot;id&quot;: 26, ...}]</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e-6'>نکات و ملاحظات</h3>
<ol>
<li>نوع اجرای سفارش یکی از موارد زیر می‌باشد:

<ul>
<li><code>limit</code>: با قیمت معین</li>
<li><code>market</code>: با قیمت بازار</li>
<li><code>stop_limit</code>: حد ضرر با قیمت معین</li>
<li><code>stop_market</code>: حد ضرر با قیمت بازار</li>
</ul></li>
<li>سفارش‌های خرید و فروش تعهدی ثبت شده را می‌توان <a href="/#a2ce8ff7e3">فهرست سفارش‌های کاربر</a> مشاهده کرد.</li>
<li>بعد از پر شدن سفارش تسویه تعهد، موقعیت بسته و سود و زیان آن واریز خواهد شد.</li>
<li>سفارش‌های تسویه از دارایی کلی موقعیت تامین اعتبار می‌شوند. مقدار سفارش تسویه باید شروط زیر را داشته باشد:

<ul>
<li>مجموع مقدار باز سفارشات تسویه موقعیت از تعهد موقعیت بیشتر نباشد. (liability - liabilityInOrder)</li>
<li>در صورتی که مقدار با همه تعهد باقیمانده برابر نباشد --تسویه نهایی--، سفارش کوچک نباشد.
(مثال: فرض کنید می‌خواهید موقعیت فروش ۰.۰۰۱ بیت‌کوین را با ارزش ۶۴۰ هزار تومان تسویه کنید و کف سفارش کوچک ۳۰۰ هزار تومان باشد.
می‌توانید ۲ سفارش ۳۰۰ هزار تومانی خرید بگذارید. و در پایان برای ۴۰ هزار تومان باقیمانده سفارش کوچک بگذارید.
اما نمی‌توانید سفارش‌های اولیه را کمتر از ۳۰۰ هزار تومان قرار دهید. -- مشابه تبدیل موجودی اندک در کیف پول)</li>
<li>ارزش کل بخش باز سفارش‌های خرید تسویه (موجودی ضرب در قیمت) از دارایی کلی موقعیت فروش بیشتر نباشد. (totalAsset - assetInOrder)</li>
</ul></li>
<li>دقت کنید تعهد موقعیت حداکثر ۱۰ رقم دقت دارد که در زمان تسویه نهایی همه آن باید ارسال شود.</li>
<li>شرط قیمت سفارش OCO:

<ul>
<li>بستن فروش (با سفارش خرید): price &lt; آخرین قیمت بازار &lt; stopPrice و stopLimitPrice</li>
<li>بستن خرید (با سفارش فروش): price &gt; آخرین قیمت بازار &gt; stopPrice و stopLimitPrice</li>
</ul></li>
</ol>
<h3 id='eec2b3e8e4-5'>حالت‌های خطا</h3>
<blockquote>
<p>در صورت عدم پذیرش درخواست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErrorCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Human readable error message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>ParseError</td>
<td>فرمت ورودی‌ها مطابق فرمت خواسته شده نیست.</td>
</tr>
<tr>
<td>TradeLimitation</td>
<td>کاربر سطح احراز کافی ندارد.</td>
</tr>
<tr>
<td>TradingUnavailable</td>
<td>کاربر محدودیت معامله (از جانب پشتیبانی) دارد.</td>
</tr>
<tr>
<td>NoOpenPosition</td>
<td>موقعیت فعالی با این شناسه وجود ندارد.</td>
</tr>
<tr>
<td>ExceedLiability</td>
<td>مقدار سفارش از تعهد خرید باقی‌مانده کاربر بیشتر است.</td>
</tr>
<tr>
<td>ExceedTotalAsset</td>
<td>ارزش کل سفارش از دارایی کلی آزاد کاربر بیشتر است.</td>
</tr>
<tr>
<td>BadPrice</td>
<td>قیمت سفارش نامعقول است. (مشابه درج سفارش اسپات)</td>
</tr>
<tr>
<td>SmallOrder</td>
<td>سفارش کوچک است و کمینه اندازه سفارش بازار را رعایت نکرده است. (مشابه درج سفارش اسپات)</td>
</tr>
<tr>
<td>PriceConditionFailed</td>
<td>شرط قیمت میان پارامترهای قیمتی و قیمت بازار در سفارش لحاظ نشده است. (مشابه اسپات)</td>
</tr>
</tbody></table>
<h2 id='9075c13bb8'>ویرایش وجه تضمین موقعیت باز</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.nobitex.ir/positions/128/edit-collateral'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"collateral": "230000000"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/positions/128/edit-collateral \
  collateral=230000000
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-10-20T11:36:13.604420+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"srcCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"dstCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Open"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isolated Margin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"collateral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"230000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"leverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-10-20T11:36:16.562038+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"closedAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liquidationPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12230682570"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6400000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"exitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6100000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PNL"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"delegatedAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liability"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0200300451"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"257023981"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marginRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.03"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"liabilityInOrder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"assetInOrder"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealizedPNL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23423565"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unrealizedPNLPercent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.18"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expirationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-11-20"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"extensionFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"320000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6090000000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre></div>
<p>برای کاهش یا افزایش وجه تضمین موقعیت باز خود از این درخواست استفاده نمایید.</p>

<ul>
<li><strong>درخواست:</strong>: <code>POST /positions/:positionId:/edit-collateral</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۶۰ درخواست در هر دقیقه</li>
</ul>
<h3 id='f9f1b685f9-7'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>:positionId:</td>
<td>url-param</td>
<td>الزامی</td>
<td>شناسه‌ی موقعیت</td>
<td><code>128</code></td>
</tr>
<tr>
<td>collateral</td>
<td>monetary</td>
<td>الزامی</td>
<td>وجه تضمین جدید</td>
<td><code>230000000</code></td>
</tr>
</tbody></table>
<h3 id='b5a1caf9af-6'>پارامترهای پاسخ</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>position</td>
<td><a href="/#position">Position</a></td>
<td>موقعیت تعهدی</td>
<td><code>{&quot;id&quot;: 25, ...}</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e-7'>نکات و ملاحظات</h3>
<ol>
<li>در صورتی که موقعیت در سوددهی باشد (نسبت تعهد &gt; نسبت تعهد اولیه = ضریب / 1 + 1)، کاربر می‌تواند مازاد وجه تضمین خود
را تا نسبت تعهد اولیه از بلوکه در بیاورد. -- سود تنها زمان بسته شدن کامل موقعیت قابل دستیابی است. </li>
<li>در صورتی که موقعیت به نقطه لیکوئید شدن نزدیک باشد و کاربر بخواهد موقعیت خود (به امید تغییر جهت بازار) باز نگهدارد،
می‌تواند با افزایش وجه تضمین خود، قیمت لیکوئید شدن خود را بهبود دهد.</li>
</ol>
<h3 id='eec2b3e8e4-6'>حالت‌های خطا</h3>
<blockquote>
<p>در صورت عدم پذیرش درخواست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErrorCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Human readable error message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>ParseError</td>
<td>فرمت ورودی‌ها مطابق فرمت خواسته شده نیست.</td>
</tr>
<tr>
<td>TryAgainLater</td>
<td>موقتا امکان تغییر وجه تضمین وجود ندارد.</td>
</tr>
<tr>
<td>LowMarginRatio</td>
<td>کاهش وجه تضمین کمتر از نسبت تعهد مجاز (=۲) است.</td>
</tr>
<tr>
<td>InsufficientBalance</td>
<td>افزایش وجه تضمین بیشتر از موجودی أزاد کیف‌پول تعهدی است.</td>
</tr>
</tbody></table>
<h1 id="withdraw">برداشت</h1>

<h2 id="withdraw-request">ثبت درخواست برداشت</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.nobitex.ir/users/wallets/withdraw'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'X-TOTP: 123456'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"wallet": 3456, "invoice": "lnbc123m1pskcu80pp5qqqsyqcyq5rqwz..."}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/users/wallets/withdraw \
  wallet=3456 invoice=lnbc123m1pskcu80pp5qqqsyqcyq5rqwz...
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"withdraw"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-11T10:13:42.957103+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCLN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invoice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lnbc123m1pskcu80pp5qqqsyqcyq5rqwz..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SaMpLeWaLlEtAdDrEsS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"wallet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3456</span><span class="p">,</span><span class="w">
    </span><span class="nl">"blockchain_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nobitex.ir/receipt/Bitcoin/ewd23d..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"is_cancelable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>در صورت وجود داشتن آدرس مقصد در دفتر آدرس، نیازی به ارسال X-TOTP در هدر درخواست نیست.</p>

<p>در صورت نبودن آدرس مقصد در دفتر آدرس، پس از ثبت درخواست برداشت، یک کد تایید یکبارمصرف به کاربر ایمیل و پیامک می‌شود.</p>
</blockquote>

<p>برای ثبت درخواست برداشت از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>POST /users/wallets/withdraw</code></li>
<li><strong>محدودیت فراخوانی:</strong> 10 درخواست در 3 دقیقه</li>
</ul>
<h3 id='f9f1b685f9'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>wallet</td>
<td>int</td>
<td>الزامی</td>
<td>شناسه کیف پول کاربر</td>
<td>3456</td>
</tr>
<tr>
<td>network</td>
<td>string</td>
<td>اختیاری</td>
<td>شبکه انتقال<sup>1</sup></td>
<td>&quot;BTCLN&quot;</td>
</tr>
<tr>
<td>invoice</td>
<td>string</td>
<td>اختیاری</td>
<td>صورت‌حساب<sup>2</sup></td>
<td>&quot;lnbc123m1pskcu80pp5qqqsyqcyq5rqwz...&quot;</td>
</tr>
<tr>
<td>amount</td>
<td>monetary</td>
<td>اختیاری</td>
<td>مقدار<sup>3</sup></td>
<td>&quot;0.123&quot;</td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>اختیاری</td>
<td>آدرس مقصد<sup>4</sup></td>
<td>&quot;SaMpLeWaLlEtAdDrEsS&quot;</td>
</tr>
<tr>
<td>explanations</td>
<td>string</td>
<td>اختیاری</td>
<td>توضیحات</td>
<td>&quot;sample explanation&quot;</td>
</tr>
<tr>
<td>noTag</td>
<td>boolean</td>
<td>false</td>
<td>بدون تگ<sup>5</sup></td>
<td>false</td>
</tr>
<tr>
<td>tag</td>
<td>string</td>
<td>اختیاری</td>
<td>تگ انتقال<sup>6</sup></td>
<td>&quot;123456&quot;</td>
</tr>
</tbody></table>

<ol>
<li><strong>شبکه انتقال:</strong> مقادیر <span class="network-symbols"></span> قابل قبول است. در مواردی که چند شبکه برداشت برای رمزارز درخواستی پشتیبانی می‌شود، می‌توان شبکه انتقال را تعیین نمود.</li>
<li><strong>صورت‌حساب:</strong> در انتقال‌های شبکه <code>BTCLN</code> الزامی است. در صورت وجود invoice پارامترهای amount و  address از آن استخراج شده و در بدنه درخواست بلااستفاده خواهند شد. شبکه صورت‌حساب باید با network در صورت مشخص شدن در درخواست مطابقت داشته باشد.</li>
<li><strong>مقدار:</strong> در صورتی که بدون invoice درخواست برداشت ثبت می‌کنید، الزامی می‌شود.</li>
<li><strong>آدرس مقصد:</strong> برای برداشت‌های ریالی <a href="/#88cb25e727" title="دریافت از پروفایل">شناسه حساب بانکی</a> تایید شده کاربر جهت دریافت وجه و برای برداشت‌های رمزارزی آدرس کیف پول مقصد می‌باشد. در صورتی که از invoice برای برداشت استفاده می‌کنید، بلااستفاده خواهد شد.</li>
<li><strong>بدون تگ:</strong> برای برداشت از شبکه‌های <span class="tag-required-networks"></span> که تگ انتقال در آن‌ها ضروری است بدون درج تگ، مقدار آن را true قرار دهید.</li>
<li><strong>تگ انتقال:</strong> در شبکه‌های <span class="tag-required-networks"></span>بدون فعال کردن noTag الزامی است.</li>
</ol>
<h3 id='eec2b3e8e4'>حالت‌های خطا</h3>
<p>در صورتی که درخواست برداشت معتبر نباشد، ممکن است یکی از این خطاها برگردانده شود. در صورت دریافت هر یک از این خطاها، درخواست شما ثبت نشده است و در صورت تمایل باید درخواست را دوباره ارسال کنید.</p>

<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>InvalidCurrency</td>
<td>بازار رمزارز مورد نظر غیرفعال است</td>
</tr>
<tr>
<td>WithdrawUnavailable</td>
<td>کاربر محدودیت برداشت دارد</td>
</tr>
<tr>
<td>WithdrawCurrencyUnavailable</td>
<td>امکان برداشت این رمزارز (در این شبکه) وجود ندارد</td>
</tr>
<tr>
<td><strong>Coin</strong>WithdrawDisabled</td>
<td>امکان برداشت این رمزارز موقتا غیرفعال شده است مثال: BTCWithdrawDisabled</td>
</tr>
<tr>
<td>InvalidAddressTag</td>
<td>تگ معتبر نمی باشد</td>
</tr>
<tr>
<td>MissingAddressTag</td>
<td>تگ فرستاده نشده یا اشتباه است</td>
</tr>
<tr>
<td>ExchangeRequiredTag</td>
<td>تگ در این بازار الزامی می باشد</td>
</tr>
<tr>
<td>RedundantTag</td>
<td>تگ ارسالی اضافی می باشد</td>
</tr>
<tr>
<td>Invalid2FA</td>
<td>کد دوعاملی ارسالی اشتباه است</td>
</tr>
<tr>
<td>WithdrawAmountLimitation</td>
<td>مقدار درخواست شده بیشتر از سقف محدودیت های کاربر (روزانه، ماهانه و ...) می باشد</td>
</tr>
<tr>
<td>InsufficientBalance</td>
<td>موجودی ناکافی است</td>
</tr>
<tr>
<td>WithdrawLimitReached</td>
<td>امکان ثبت درخواست به دلیل «محدودیت در تعداد درخواست با وضعیت مشابه» وجود ندارد</td>
</tr>
<tr>
<td>AmountTooLow</td>
<td>مقدار درخواستی از حداقل مقدار مجاز این بازار(شبکه) کمتر می باشد</td>
</tr>
<tr>
<td>AmountTooHigh</td>
<td>مقدار درخواستی از حداکثر مقدار مجاز این بازار(شبکه) بیشتر می باشد</td>
</tr>
<tr>
<td>InvalidMobileNumber</td>
<td>کاربر موبایل تایید شده ندارد</td>
</tr>
<tr>
<td>ShabaWithdrawCannotProceed</td>
<td>امکان ثبت درخواست برداشت ریالی بیشتر از حدمجاز روزانه وجود ندارد</td>
</tr>
<tr>
<td>ShabaWithdrawCannotProceed</td>
<td>امکان ثبت درخواست برداشت ریالی بیشتر از حدمجاز روزانه وجود ندارد</td>
</tr>
<tr>
<td>NotWhitelistedTargetAddress</td>
<td>حالت برداشت امن روی حساب فعال است اما شبکه، آدرس (یا تگ) در دفتر آدرس شما وجود ندارد</td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e'>نکات و ملاحظات</h3>
<ol>
<li>در صورت موجود نبودن آدرس مقصد در دفتر آدرس، این درخواست نیاز به <a href="/#dbf936619c">شناسایی دوعاملی</a> دارد. </li>
<li>کاربر درخواست دهنده بایستی اجازه برداشت از کیف پول خود را داشته باشد.
(مثلا دارای حداقل سطح مجاز برای برداشت و شماره تماس تایید شده بوده و سقف برداشت مجاز روزانه و ماهانه خود را رد نکرده باشد و شرایط و پیشنیازات ذکر شده در مقررات نوبیتکس را رعایت کرده باشد.)</li>
<li>در صورت فعال بودن حالت برداشت امن، شبکه، آدرس (و در صورت الزام شبکه، تگ) انتخاب شده باید در دفتر آدرس شما ثبت شده باشد.</li>
<li>درخواست برداشت ثبت شده در این مرحله  نیاز به تایید توسط کاربر دارد.</li>
</ol>

<h2 id="withdraw-confirm">تایید درخواست برداشت</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.nobitex.ir/users/wallets/withdraw-confirm'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"withdraw": 432, "otp": 623005}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/users/wallets/withdraw-confirm \
  withdraw=432 otp=623005
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"withdraw"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-11T10:13:42.957103+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Verified"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCLN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invoice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lnbc123m1pskcu80pp5qqqsyqcyq5rqwz..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SaMpLeWaLlEtAdDrEsS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"wallet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3456</span><span class="p">,</span><span class="w">
    </span><span class="nl">"blockchain_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nobitex.ir/receipt/Bitcoin/ewd23d..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"is_cancelable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای تایید درخواست برداشت از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>POST /users/wallets/withdraw-confirm</code></li>
<li><strong>محدودیت فراخوانی:</strong> 30 درخواست در ساعت</li>
</ul>
<h3 id='f9f1b685f9-2'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>withdraw</td>
<td>int</td>
<td>الزامی</td>
<td>شناسه درخواست برداشت</td>
<td>432</td>
</tr>
<tr>
<td>otp</td>
<td>int</td>
<td>بسته به آدرس مقصد الزامی</td>
<td>رمز یکبارمصرف ارسال شده</td>
<td>623005</td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e-2'>نکات و ملاحظات</h3>
<ol>
<li>در برداشت‌های ریالی به شبای تایید شده کاربر و برداشت رمزارزی به آدرس‌های امن دفتر آدرس، نیازی به ارسال رمز یکبارمصرف نیست.</li>
<li>برای تایید برداشت به آدرس‌های تایید نشده باید کد یکبارمصرف ارسال شده به شماره تلفن همراه یا ایمیل حساب کاربری خود را استخراج و به این API ارسال نمایید.</li>
<li>امکان استفاده از آی‌پی اختصاصی به زودی فراهم خواهد شد.</li>
</ol>

<h2 id="withdraw-list">فهرست برداشت‌ها</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/users/wallets/withdraws/list'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/users/wallets/withdraws/list
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"withdraws"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">432</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-11T10:13:42.957103+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Canceled"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0123"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCLN"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lnbc123m1pskcu80pp5qqqsyqcyq5rqwz..."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SaMpLeWaLlEtAdDrEsS"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"wallet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3456</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockchain_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://nobitex.ir/receipt/Bitcoin/ewd23d..."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"is_cancelable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">238</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-19T14:17:23.441723+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Done"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FIAT_MONEY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"invoice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"</span><span class="se">\u</span><span class="s2">062a</span><span class="se">\u</span><span class="s2">062c</span><span class="se">\u</span><span class="s2">0627</span><span class="se">\u</span><span class="s2">0631</span><span class="se">\u</span><span class="s2">062a: IR140180000000003333333333"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"wallet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3451</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockchain_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"is_cancelable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">239</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-04T12:59:38.196935+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Done"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ltc"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lgn1zc77mEjk72KvX..."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"wallet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3454</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockchain_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://live.blockcypher.com/ltc/tx/c1ed4229e598d4cf..."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"is_cancelable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"hasNext"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت لیست آخرین برداشت‌ها از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /users/wallets/withdraws/list</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۶۰ درخواست در ۲ دقیقه</li>
<li><strong><a href="#pagination">صفحه بندی:</a></strong> دارد (پیش فرض 20)</li>
<li><strong><a href="#date-filter">فیلترزمانی:</a></strong> دارد</li>
</ul>
<h3 id='f9f1b685f9-3'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>wallet</td>
<td>string</td>
<td>all</td>
<td>شناسه کیف پول کاربر</td>
<td>3456</td>
</tr>
</tbody></table>

<h2 id="withdraw-view">مشاهده برداشت</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/withdraws/433'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/withdraws/433
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"withdraw"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">433</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-14T06:53:11.593812+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Processing"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.123"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eth"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BSC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"invoice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SaMpLeWaLlEtAdDrEsS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"wallet_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3458</span><span class="p">,</span><span class="w">
    </span><span class="nl">"blockchain_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://etherscan.io/tx/tx111111"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"is_cancelable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای مشاهده وضعیت یک درخواست برداشت از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /withdraws/WITHDRAW</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۶۰ درخواست در ۲ دقیقه</li>
</ul>
<h3 id='f9f1b685f9-4'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>WITHDRAW</td>
<td>int</td>
<td>الزامی</td>
<td>شناسه درخواست برداشت</td>
<td>433</td>
</tr>
</tbody></table>
<h1 id='81680ab360'>دفتر آدرس و حالت برداشت امن</h1>
<p>دفتر آدرس (address book) و حالت برداشت امن (whitelist mode)
به منظور ارتقاء امنیت و سرعت برداشت رمزارز کاربران پیاده سازی می شود و امکان تعریف آدرس‌های برداشت از پیش تعیین
و تأیید شده را در دفتر آدرس برای کاربر فراهم می آورد. برداشت به آدرس‌های امن دفتر آدرس به رمز دوعاملی یا کد تایید
یکبار مصرف نیازی ندارد.</p>
<h2 id='0622709577'>مشاهده لیست آدرس‌های دفتر آدرس</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/address_book'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>https GET https://api.nobitex.ir/address_book
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TetherBinance"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BSC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000000xxxxxxx111111111zzzzzzz"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-09T10:12:37+00:00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BinanceCoinOKX"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BNB"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000000xxxxxxx222222222zzzzzzz"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test17280992"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-09T10:26:12+00:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت دفتر آدرس از این درخواست استفاده نمایید.</p>

<ul>
<li><strong>درخواست:</strong>: <code>GET /address_book</code></li>
<li><strong>محدودیت فراخوانی:</strong> 20 درخواست در هر دقیقه</li>
</ul>
<h3 id='f9f1b685f9'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>network</td>
<td>string</td>
<td>همه شبکه‌ها</td>
<td>فیلتر شبکه</td>
<td><code>BSC</code></td>
</tr>
</tbody></table>
<h2 id='24bc19da56'>اضافه کردن آدرس جدید به دفتر آدرس</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.nobitex.ir/address_book'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"title": "test", "network": "BSC", "address": "000000xxxxxxx111111111zzzzzzz",
    "otpCode": "123456", "tfaCode": "654321"}'</span>

</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/address_book
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BSC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000000xxxxxxx111111111zzzzzzz"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2023-08-09T10:22:37+00:00"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>برای دریافت رمزیکبارمصرف otpCode از درخواست زیر استفاده نمایید:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.nobitex.ir/otp/request'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"type": "email", "usage": "address_book"}'</span>
</code></pre></div>
<ul>
<li><strong>درخواست:</strong>: <code>POST /address_book</code></li>
<li><strong>محدودیت فراخوانی:</strong> 6 درخواست در هر دقیقه</li>
</ul>
<h3 id='f9f1b685f9-2'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>title</td>
<td>string</td>
<td>الزامی</td>
<td>عنوان آدرس</td>
<td><code>test</code></td>
</tr>
<tr>
<td>network</td>
<td>string</td>
<td>الزامی</td>
<td>شبکه</td>
<td><code>BSC</code></td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>الزامی</td>
<td>آدرس</td>
<td><code>000000xxxxxxx111111111zzzzzzz</code></td>
</tr>
<tr>
<td>tag</td>
<td>string</td>
<td>الزامی در شبکه‌های تگ‌اجباری</td>
<td>تگ</td>
<td><code>test17280992</code></td>
</tr>
<tr>
<td>otpCode</td>
<td>string</td>
<td>الزامی</td>
<td>کد تأیید ایمیل و پیامک</td>
<td><code>123456</code></td>
</tr>
<tr>
<td>tfaCode</td>
<td>string</td>
<td>الزامی</td>
<td>کد تأیید دوعاملی</td>
<td><code>654321</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e'>نکات و ملاحظات</h3>
<ol>
<li>مقدار آدرس در شبکه‌های بدون تگ نمی‌تواند تکراری باشد.</li>
<li>در شبکه‌های <span class="tag-required-networks"></span> تگ اجباری است.</li>
<li>مقدار تگ‌های یک آدرس در شبکه‌های تگ‌اجباری نمی‌تواند تکراری باشد. (زوج آدرس و تگ باید یکتا باشد.)</li>
<li>برای دریافت کد تایید از طریق ایمیل (otpCode) از درخواست روبرو استفاده نمایید.</li>
</ol>
<h3 id='eec2b3e8e4'>حالت‌های خطا</h3>
<blockquote>
<p>در صورت عدم پذیرش درخواست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErrorCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Human readable error message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>ParseError</td>
<td>نوع یا شرط الزامی بودن یکی از پارامترهای ورودی رعایت نشده است.</td>
</tr>
<tr>
<td>InvalidOTP</td>
<td>مقدار tfa وارد شده نادرست است.</td>
</tr>
<tr>
<td>Invalid2FA</td>
<td>مقدار otp وارد شده نادرست است.</td>
</tr>
<tr>
<td>Inactive2FA</td>
<td>tfa فعال نیست</td>
</tr>
<tr>
<td>InvalidAddress</td>
<td>آدرس مربوط به شبکه مشخص شده نمی‌باشد.</td>
</tr>
<tr>
<td>DuplicatedAddress</td>
<td>آدرس قبلا ثبت شده و تکراری می باشد.</td>
</tr>
<tr>
<td>InvalidTag</td>
<td>فرمت تگ مطابق شبکه مشخص شده نمی‌باشد.</td>
</tr>
</tbody></table>
<h2 id='a15902df35'>حذف یک دفتر آدرس</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/address_book/&lt;address_id&gt;/delete
  -H "Authorization: Token yourTOKENhereHEX000000ook'</span><span class="s2">" 

</span></code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>https DELETE /address_book/&lt;address_id&gt;/delete
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li><strong>درخواست:</strong>: <code>DELETE /address_book/&lt;address_id&gt;/delete</code></li>
<li><strong>محدودیت فراخوانی:</strong> 6 درخواست در هر دقیقه</li>
</ul>
<h3 id='eec2b3e8e4-2'>حالت‌های خطا</h3>
<blockquote>
<p>در صورت عدم پذیرش درخواست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErrorCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Human readable error message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>NotFound</td>
<td>آدرسی با این شناسه وجود ندارد.</td>
</tr>
</tbody></table>
<h2 id='de54f7f0fe'>فعال کردن برداشت امن</h2>
<p>در صورتی که حالت برداشت امن فعال باشد مقصدهای برداشت رمزارزی به آدرس‌های موجود در دفتر آدرس محدود خواهد شد 
و به استثنای برداشت در شبکه لایتنینگ، امکان برداشت رمزارزی به آدرس‌های غیر وجود نخواهد داشت.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.nobitex.ir/address_book/whitelist/activate'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>https POST https://api.nobitex.ir/address_book/whitelist/activate
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li><strong>درخواست:</strong>: <code>POST /address_book/address_book/whitelist/activate</code></li>
<li><strong>محدودیت فراخوانی:</strong> 6 درخواست در هر دقیقه</li>
</ul>
<h2 id='352e9e780b'>غیرفعال کردن برداشت امن</h2>
<p>با غیر فعال کردن برداشت امن، به جهت حفظ امنیت حساب امکان برداشت به مدت ۲۴ ساعت روی حساب کاربر محدود خواهد شد.</p>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/address_book/whitelist/deactivate'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span> 
  <span class="nt">-H</span> <span class="s2">"content-type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'{"otpCode": "1234", "tfaCode": "12345"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>https POST https://api.nobitex.ir/address_book/whitelist/deactivate
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li><strong>درخواست:</strong>: <code>POST /address_book/address_book/whitelist/deactivate</code></li>
<li><strong>محدودیت فراخوانی:</strong> 6 درخواست در هر دقیقه</li>
</ul>
<h3 id='f9f1b685f9-3'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>otpCode</td>
<td>string</td>
<td>الزامی</td>
<td>کد تأیید ایمیل و پیامک</td>
<td><code>1234</code></td>
</tr>
<tr>
<td>tfaCode</td>
<td>string</td>
<td>الزامی</td>
<td>کد تأیید دوعاملی</td>
<td><code>12345</code></td>
</tr>
</tbody></table>
<h3 id='eec2b3e8e4-3'>حالت‌های خطا</h3>
<blockquote>
<p>در صورت عدم پذیرش درخواست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErrorCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Human readable error message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>ParseError</td>
<td>نوع یا شرط الزامی بودن یکی از پارامترهای ورودی رعایت نشده است.</td>
</tr>
<tr>
<td>InvalidOTP</td>
<td>مقدار tfa وارد شده نادرست است.</td>
</tr>
<tr>
<td>Invalid2FA</td>
<td>مقدار otp وارد شده نادرست است.</td>
</tr>
<tr>
<td>Inactive2FA</td>
<td>tfa فعال نیست</td>
</tr>
</tbody></table>
<h1 id='a5b0c55df6'>امنیت</h1><h2 id='e0478463ad'>سابقه ورود</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/users/login-attempts'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/users/login-attempts \
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"attempts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"46.209.130.106"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name@example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successful"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-28T14:16:08.264308+00:00"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت سابقه ورود از این نوع درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /users/login-attempts</code></li>
</ul>
<h2 id='01ab60950a'>فعالسازی لغو اضطراری</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/security/emergency-cancel/activate'</span> <span class="se">\</span>
  <span class="nt">-X</span> GET <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Token yourTOKENhereHEX0000000000"</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/security/emergency-cancel/activate \
  Authorization: Token yourTOKENhereHEX0000000000
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cancelCode"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seJlef35L3"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>جهت فعالسازی امکان لغو اضطراریِ درخواست های برداشت از این درخواست استفاده نمائید.
پس از فعالسازی این امکان، پیامک و ایمیل ارسالی پس از ثبت درخواست برداشت،
حاوی لینکی خواهد بود که شما میتوانید با استفاده از آن در صورتی که درخواست برداشت توسط شما ثبت نشده است، در کمترین زمان ممکن و بدون نیاز به لاگین، درخواست های برداشت خود را لغو نمایید.</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /security/emergency-cancel/activate</code></li>
</ul>
<h3 id='2f74b9d52e'>نکات و ملاحظات</h3>
<p>توجه داشته باشید: در صورتی که درخواست برداشت شما توسط این امکان لغو گردد، امکان ثبت درخواست برداشت تا ۷۲ ساعت برای شما غیرفعال خواهد شد.
</aside></p>
<h2 id='7bd08f9b8d'>آنتی فیشینگ</h2>
<p>جهت امنیت حساب کاربری و همچنین اعتماد بیشتر کاربران به ایمیل هایی که از سمت توبیتکس ارسال میشود نیاز هست که کاربر بتواند کد یونیک برای حساب کاربری خود انتخاب کند که تمامی ایمیل هایی که از سمت نوبیتکس به صورت اتوماتیک ارسال میشود حاوی این کد باشد.
.این کد به کاربر این اطمینان را میدهد که این ایمیل قطعا از نوبیتکس ارسال شده است.</p>
<h3 id='c7e3c76c7a'>ایجاد کد آنتی فیشینگ</h3>
<blockquote>
<p>نمونه درخواست:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> POST <span class="s1">'https://api.nobitex.ir/security/anti-phishing'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span> <span class="se">\</span>
<span class="nt">--form</span> <span class="s1">'code="sample_anti_phishing"'</span> <span class="se">\</span>
<span class="nt">--form</span> <span class="s1">'otpCode="123456"'</span>
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>برای دریافت رمزیکبارمصرف otpCode باید از API زیر با پارامترهای مشخص شده استفاده نمایید:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.nobitex.ir/otp/request?type=email&amp;usage=anti_phishing_code'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span>
</code></pre></div>
<blockquote>
<p><strong>حالت های خطا</strong></p>

<p>در صورتی که پارامتر کدیکبارمصرف یا آنتی فیشینگ را ارسال نکرده باشید با این خطا روبرو خواهید شد.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ParseError"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Missing string value"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>در صورتی که کدیکبار مصرف ارسال شده، نامعتبر باشد با این خطا روبرو خواهید بود.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"InvalidOTPCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please use otp/request endpoint"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>در صورتی که طول عبارت ارسالی نامناسب باشد با این خطا مواجه خواهید شد</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"InvalidCodeLength"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Code length must be between 4 and 15 characters"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li><strong>درخواست:</strong> <code>POST /security/anti-phishing</code></li>
<li><p><strong>محدودیت فراخوانی:</strong> ۱۰ درخواست در هر دقیقه</p></li>
<li><p>پارامترهای ورودی</p></li>
</ul>

<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>string</td>
<td>الزامی</td>
<td>کد آنتی فیشینگ تعیین شده توسط کاربر</td>
<td>sample_anti_phishing</td>
</tr>
<tr>
<td>otpCode</td>
<td>number</td>
<td>الزامی</td>
<td>کد یکبار مصرف ارسال شده به شماره همراه کاربر</td>
<td>12345</td>
</tr>
</tbody></table>
<h3 id='954cdbfeb5'>دریافت کد آنتی فیشینگ</h3>
<ul>
<li><strong>درخواست:</strong> <code>GET /security/anti-phishing</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۱۰ درخواست در هر دقیقه</li>
</ul>

<blockquote>
<p>نمونه درخواست:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">--location</span> <span class="nt">--request</span> GET <span class="s1">'https://api.nobitex.ir/security/anti-phishing'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span> 
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"antiPhishingCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s*********g"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>در صورتی که آنتی‌فیشینگ کد برای کاربر فعال نشده باشد با این پاسخ مواجه خواهید شد</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NotFound"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AntiPhishingCode is not declared for this user"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='57bcd8d937'>طرح معرفی دوستان</h1>
<p>نوبیتکس طرحی به نام معرفی دوستان در نظر گرفته است که از طریق آن هم به گسترش نوبیتکس کمک می‌کنید و هم از مزایای آن بهره‌مند می‌شوید. براساس این طرح شما می‌توانید دوستان خود را با لینک اختصاصی خود به نوبیتکس دعوت کنید و درصدی از کارمزد معاملات آن‌ها را به عنوان پاداش دریافت نمایید. برای اطلاعات بیشتر به <a href="https://nobitex.ir/policies/referral/">صفحه قوانین طرح معرفی دوستان</a> مراجعه کنید.</p>

<p>معرفی دوستان با استفاده از ایجاد «کد دعوت» انجام می‌شود. هر کاربر نوبیتکس می‌تواند برای خود یک یا چند کد دعوت بسازد. کدهای دعوت معمولاً شامل شش رقم هستند ولی می‌توانند طول متفاوتی داشته باشند یا حتی رشته‌های دلخواه باشند. در زمان ساخت هر کد دعوت می‌توان سهم کاربر معرف و کاربر دعوت شده از کارمزد اهدایی را مشخص نمود.</p>

<p>با استفاده از «فهرست کدهای دعوت» می‌توانید فهرستی از کدهای دعوت فعلی خود را دریافت نمایید. به همراه این فهرست، میزان سود شما و برخی دیگر از آمار مربوط به کاربران ثبت‌نامی با آن کد دعوت ارسال می‌شود. اگر هنوز کد دعوتی ندارید، برای شروع استفاده از طرح معرفی دوستان می‌توانید با استفاده از «ایجاد کد دعوت»، یک کد دعوت بسازید.</p>

<aside class="notice">
برای ساخت پیوند از روی کد دعوت، آن را در این آدرس قرار دهید:
<br><code>https://nobitex.ir/signup/?refcode=CODE</code>
</aside>
<h2 id='35df8fda78'>فهرست کدهای دعوت</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="s1">'https://api.nobitex.ir/users/referral/links-list'</span> <span class="se">\</span>
  <span class="nt">--header</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http --follow --timeout 3600 GET https://api.nobitex.ir/users/referral/links-list \
 Authorization:'Token yourTOKENhereHEX0000000000'
</code></pre></div>
<ul>
<li><strong>درخواست:</strong> <code>POST /users/referral/links-list</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۵۰ درخواست در هر ۱۰ دقیقه</li>
</ul>
<h3 id='b5a1caf9af'>پارامترهای پاسخ</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>links</td>
<td>list of ReferralLink</td>
<td>فهرست کدهای دعوت این کاربر</td>
<td><code>[{...ReferralLink...}, ...]</code></td>
</tr>
</tbody></table>
<h3 id='referrallink'>شی ReferralLink</h3>
<table><thead>
<tr>
<th>فیلد</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>int</td>
<td>شناسه یکتای لینک</td>
<td><code>1001</code></td>
</tr>
<tr>
<td>referralCode</td>
<td>string</td>
<td>کد دعوت</td>
<td><code>40404</code></td>
</tr>
<tr>
<td>createdAt</td>
<td>datetime</td>
<td>تاریخ ایجاد کد</td>
<td><code>2020-07-15T11:32:38.326809+00:00</code></td>
</tr>
<tr>
<td>userShare</td>
<td>int</td>
<td>سهم کاربر معرف از کارمزد معاملات کاربر دعوت شده</td>
<td><code>20</code></td>
</tr>
<tr>
<td>friendShare</td>
<td>int</td>
<td>سهم کاربر دعوت شده از کارمزد معاملات خود</td>
<td><code>10</code></td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>توضیحات اختیاری کاربر برای این کد</td>
<td><code>Shared on Instagram page X</code></td>
</tr>
<tr>
<td>statsRegisters</td>
<td>int</td>
<td>آمار: کاربران ثبت‌نام کرده با این کد</td>
<td><code>20</code></td>
</tr>
<tr>
<td>statsTrades</td>
<td>int</td>
<td>آمار: مجموع تعداد معاملات کاربران ثبت‌نام کرده با این کد</td>
<td><code>240</code></td>
</tr>
<tr>
<td>statsProfit</td>
<td>monetary: IRR</td>
<td>آمار: مجموع ریالی درآمد کاربر از این کد دعوت</td>
<td><code>3200000</code></td>
</tr>
</tbody></table>
<h2 id='0b7578b7fd'>ایجاد کد دعوت</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="s1">'https://api.nobitex.ir/users/get-referral-code'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http --follow --timeout 3600 GET https://api.nobitex.ir/users/get-referral-code \
 Authorization:'Token yourTOKENhereHEX0000000000'
</code></pre></div>
<p>برای ایجاد یک کد دعوت جدید برای کاربر، از «ایجاد کد دعوت» استفاده نمایید.</p>

<ul>
<li><strong>درخواست:</strong> <code>POST /users/referral/links-add</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۵ درخواست در هر دقیقه</li>
</ul>
<h3 id='f9f1b685f9'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>friendShare</td>
<td>int</td>
<td><code>0</code></td>
<td>سهم کارمزد اهدایی به دوست دعوت شده با این کد</td>
<td><code>10</code></td>
</tr>
</tbody></table>
<h3 id='eec2b3e8e4'>حالت‌های خطا</h3>
<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>InvalidGivebackShare</td>
<td>سهم کارمزد دوست قابل قبول نیست. پارامتر friendShare را بررسی کنید.</td>
</tr>
<tr>
<td>TooManyReferralLinks</td>
<td>سهمیه ۳۰ تایی کدهای دعوت قابل ساخت برای هر کاربر به پایان رسیده است.</td>
</tr>
<tr>
<td>ReferralCodeUnavailable</td>
<td>امکان ایجاد کد دعوت در حال حاضر وجود ندارد.</td>
</tr>
<tr>
<td>ReferralCodeExists</td>
<td>خطایی در ثبت کد دعوت رخ داده است.</td>
</tr>
</tbody></table>
<h2 id='383aaeedc8'>وضعیت دعوت کاربر</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="s1">'https://api.nobitex.ir/users/referral/referral-status'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http --follow --timeout 3600 GET https://api.nobitex.ir/users/referral/referral-status \
 Authorization:'Token yourTOKENhereHEX0000000000'
</code></pre></div>
<p>برای اطلاع از این که کاربر فعلی توسط کاربر دیگری به نوبیتکس دعوت شده است یا خیر، از «وضعیت دعوت کاربر» استفاده نمایید.</p>

<ul>
<li><strong>درخواست:</strong> <code>POST /users/referral/referral-status</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۵۰ درخواست در هر ۱۰ دقیقه</li>
</ul>
<h3 id='b5a1caf9af-2'>پارامترهای پاسخ</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>hasReferrer</td>
<td>boolean</td>
<td>آیا کاربر توسط کاربر دیگری دعوت شده است؟</td>
<td><code>true</code></td>
</tr>
</tbody></table>
<h2 id='b71dfde1d6'>ثبت معرف کاربر</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> GET <span class="s1">'https://api.nobitex.ir/users/referral/set-referrer'</span> <span class="se">\</span>
  <span class="nt">--header</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http --follow --timeout 3600 GET https://api.nobitex.ir/users/referral/set-referrer \
 Authorization:'Token yourTOKENhereHEX0000000000'
</code></pre></div>
<p>کد دعوت باید در زمان ثبت‌نام توسط کاربر وارد شده یا با استفاده از پیوند دعوت به صورت خودکار پر شود. با این حال تا ۲۴ ساعت
پس از ثبت‌نام نیز امکان ثبت معرف توسط کاربر با استفاده از این API وجود دارد. منظور از کاربر معرف، کاربری است که کاربر فعلی
را دعوت نموده است.</p>

<ul>
<li><strong>درخواست:</strong> <code>POST /users/referral/set-referrer</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۵۰ درخواست در هر ۱۰ دقیقه</li>
</ul>
<h3 id='f9f1b685f9-2'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>referrerCode</td>
<td>string</td>
<td>الزامی</td>
<td>کد دعوت کاربر دعوت کننده</td>
<td><code>40404</code></td>
</tr>
</tbody></table>
<h3 id='eec2b3e8e4-2'>حالت‌های خطا</h3>
<table><thead>
<tr>
<th>کد خطا</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>ReferrerChangeUnavailable</td>
<td>بیش از ۲۴ ساعت از ثبت‌نام کاربر گذشته است و تعریف معرف دیگر ممکن نیست.</td>
</tr>
</tbody></table>
<h1 id="auth">احراز هویت</h1>

<h2 id="auth-intro">روش پیشنهادی دریافت توکن</h2>

<p>روش پیشنهادی نوبیتکس برای دریافت توکن استفاده از API، دریافت آن از پنل کاربری است. برای دریافت توکن می‌توانید با مراجعه به پنل کاربری خود در نوبیتکس، از بخش پروفایل وارد صفحه تنظیمات شده و توکن خود را دریافت نمایید. در صورتی که گزینه «مرا به خاطر بسپار» را در هنگام ورود به نوبیتکس انتخاب کرده باشید، این توکن تا ۳۰ روز یا زمان لاگ‌اوت شما از نوبیتکس معتبر خواهد ماند.</p>

<p>در ادامه روش دریافت خودکار توکن با استفاده از کد توضیح داده می‌شود. معمولاً دریافت خودکار توکن ضروری نیست و روش پیشنهادی ما برای اغلب کاربران دریافت مستقیم توکن از پنل کاربری است. تنها در صورتی که با مخاطرات ذخیره گذرواژه خود در کد و روش‌های امن این کار آشنا هستید، در استفاده از API مهارت دارید، و از طرفی نیاز به دریافت کاملاً خودکار توکن دارید، از API دریافت توکن استفاده نمایید.</p>

<p>همین طور پیشنهاد می‌شود که گام‌های اولیه توسعه کد خود را با دریافت توکن از پنل انجام دهید تا با فرآیند استفاده از API نوبیتکس بیشتر آشنا شوید و تنها در صورت نیاز و در گام نهایی‌سازی کد خود اقدام به خودکارسازی دریافت توکن نمایید. لازم به توضیح است که به دلیل مسائل امنیتی مانند شناسایی دوعاملی و کپچا و ... برای دریافت خودکار توکن باید به دقت مستندات این بخش را مطالعه نمایید.</p>

<h2 id="login">ورود - دریافت توکن</h2>

<blockquote>
<p>برای دریافت توکن، از این کد استفاده کنید:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/auth/login/'</span> <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">$'{"username":"name@example.com","password":"secret-password-1234","captcha":"api"}'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/auth/login/ \
  username=name@example.com password=secret-password-1234 captcha=api
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"db2055f743c1ac8c30d23278a496283b1e2dd46f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"device"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AlRyansW"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>دریافت توکن به صورت خودکار و با ارسال درخواست به <code>/auth/login/</code> صورت می‌گیرد. این تنها APIی است که نیاز دارید
به آن نام کاربری و رمز عبور خود را ارسال کنید. تمامی دیگر APIها از توکن به جای رمز عبور برای احراز هویت استفاده می‌کنند.
توکن‌های صادر شده بعد از چهار ساعت منقضی می‌شوند و باید مجددا با ارسال درخواست لاگین، توکن جدیدی دریافت کنید.
در صورتی که نیاز به ایجاد توکن‌های بلند مدت دارید، از پارامتر <code>remember=yes</code> استفاده کنید تا توکن ایجاد شده به مدت سی
روز معتبر بماند.
توجه داشته باشید، در صورتی که احراز هویت دو مرحله‌ای را فعال کرده باشید، می بایست رمز یک‌بار مصرف را نیز ارسال نمایید. توضیحات دقیق‌تر را <a href="#dbf936619c">از اینجا</a> مطالعه فرمایید.</p>

<ul>
<li><strong>درخواست:</strong> <code>/POST /auth/login</code></li>
<li><strong>محدودیت فراخوانی:</strong> ۳۰ درخواست در هر ۱۰ دقیقه</li>
</ul>
<h3 id='f9f1b685f9'>پارامترهای ورودی</h3>
<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>string</td>
<td>الزامی</td>
<td>ایمیل کاربر</td>
<td><code>name@example.com</code></td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>الزامی</td>
<td>گذرواژه کاربر</td>
<td><code>secret-password-1234</code></td>
</tr>
<tr>
<td>remember</td>
<td>string</td>
<td>no</td>
<td>آیا توکن بلند مدت صادر شود؟</td>
<td><code>yes</code> یا <code>no</code></td>
</tr>
<tr>
<td>captcha</td>
<td>string</td>
<td>الزامی</td>
<td>کپچا</td>
<td><code>api</code></td>
</tr>
</tbody></table>
<h3 id='2f74b9d52e'>نکات و ملاحظات</h3>
<ol>
<li>دقت نمایید که انتهای آدرس url ارسال درخواست، حتماً باید <code>/</code> گذاشته شود.</li>
<li>توکن‌های دریافت شده از این روش، بعد از اتمام زمان اعتبار یا انجام عملیات لاگ‌اوت منقضی می‌شوند. زمان پیش‌فرض اعتبار توکن چهار ساعت است که می‌توانید با استفاده از پارامتر <code>remember</code> توکن‌هایی با زمان اعتبار یک ماه دریافت نمایید.</li>
<li>برای لاگین و دریافت توکن، حتماً باید از آی‌پی ایران درخواست ارسال شود. در غیر این صورت، خطای 429 برگردانده می‌شود. بدیهی است که استفاده از هر VPN یا VPS خارجی، منجر به این خطا خواهد شد. در حالت استفاده از آی‌پی ایران می‌توانید مقدار کپچا را در درخواست برابر <code>api</code> مقداردهی کنید.</li>
<li>در صورت مشکل در دریافت توکن، می‌توانید مطابق <a href="#auth-intro">روش پیشنهادی</a> دریافت توکن از توکن‌‌های موجود در تنظیمات پروفایل خود استفاده کنید.</li>
</ol>

<h2 id="login-faq">سوالات متداول دریافت توکن</h2>
<h3 id='aa8aca655e'>آیا نوبیتکس توکن بلند مدت هم ارائه می‌دهد؟</h3>
<p>در نوبیتکس می‌توانید توکن‌هایی با تاریخ انقضای حداکثر یک ماه دریافت نمایید. در صورتی که گزینه «مرا به خاطر بسپار» را در زمان لاگین به سایت نوبیتکس انتخاب نمایید، توکنی که در بخش پروفایل دریافت می‌کنید برای مدت یک ماه معتبر خواهد بود. در صورتی که از API دریافت توکن استفاده می‌کنید، می‌توانید از پارامتر <code>remember</code> استفاده کنید. مد نظر داشته باشید که در صورت انجام عملیات لاگ‌اوت از حساب خود در سایت یا API توکن شما دیگر معتبر نخواهد ماند.</p>
<h3 id='api'>من با استفاده از گوگل در نوبیتکس ثبت نام کرده‌ام. چگونه می‌توانم با API کار کنم؟</h3>
<p><a href="#auth-intro">روش پیشنهادی</a> دریافت توکن، دریافت آن از پنل کاربری است و با این روش تمام کاربران مستقل از روش ورود به نوبیتکس می‌توانند توکن خود را مشاهده و دریافت نمایند. کاربرانی که با استفاده از حساب گوگل در نوبیتکس ثبت‌نام کرده باشند و بخواهند از روش خودکار دریافت توکن استفاده کنند، می‌توانند از امکان فراموشی رمز عبور استفاده کرده و رمز جدید برای حساب خود تعیین و پس از آن اقدام به استفاده از API نمایند.</p>
<h3 id='missingcaptcha'>در هنگام لاگین با خطای MissingCaptcha روبرو شده‌ام. مشکل چیست؟</h3>
<p>مطابق <a href="#auth-intro">روش پیشنهادی</a> دریافت توکن، برای دریافت توکن به پنل کاربری خود در سایت، بخش «پروفایل: تنظیمات» مراجعه نمایید. اگر از روش خودکار دریافت توکن استفاده می‌کنید، مستندات مربوطه را با دقت مطالعه نمایید.</p>
<h3 id='missingotp'>در هنگام لاگین با خطای MissingOTP روبرو شده ام. چگونه این مشکل حل میشود؟</h3>
<p>هنگامی که شناسایی دوعاملی حساب شما فعال باشد، در هنگام استفاده از API نیز می‌بایست این حالت حفظ شده و رمز یکبار مصرف ارسال گردد. این کار از طریق ارسال این رمز با استفاده از پارامتر X-TOTP امکان‌پذیر خواهد بود. تولید کد دوعاملی با استفاده از فرمول استانداردی در کد ممکن است.</p>

<h2 id="logout">خروج - سوزاندن توکن</h2>

<blockquote>
<p>برای خروج یا سوزاندن توکن، از این کد استفاده کنید:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.nobitex.ir/auth/logout/'</span> <span class="se">\</span>
<span class="nt">--header</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>POST /auth/logout/ HTTP/1.1
Host: api.nobitex.ir
Authorization: Token yourTOKENhereHEX0000000000
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"detail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"خروج با موفقیت انجام شد."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"خروج با موفقیت انجام شد."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li><strong>درخواست:</strong> <code>/POST /auth/logout</code></li>
</ul>
<h1 id="portfolio">سود و زیان</h1>

<p>«پرتفو» یا «پنل سود و زیان» کاربر، گزارشی است که با توجه به معاملات یا افزایش و کاهش قیمت رمزارزها در مارکت میزان سود یا ضرر بدست آمده و درصدهای آنها را نسبت به قیمت خریداری شده (موجودی) نمایش میدهد.</p>

<p>در حال حاضر این اطلاعات در پرتفو هر کاربر ارائه می‌شود:</p>

<ul>
<li>سود و زیان روزانه هفته گذشته</li>
<li>سود زیان کل به صورت روزانه در هفته گذشته</li>
<li>سود و زیان کل ماه گذشته</li>
</ul>

<aside class="warning"> توجه: این ویژگی به صورت بتا عرضه شده است</aside>

<h2 id="last-week-daily-profit">سود و زیان روزانه هفته گذشته</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.nobitex.ir/users/portfolio/last-week-daily-profit'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/users/portfolio/last-week-daily-profit \
Authorization: Token yourTOKENhereHEX0000000000
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"report_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-30"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"report_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"report_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-02"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"report_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-03"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"report_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-04"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"report_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-05"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0E-10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0E-10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4516559.9205900000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"report_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-06"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"152570.1426800000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.3780165737"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4669130.0632700000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>در صورتی که این ویژگی برای کاربر فعال نباشد با این جواب روبرو خواهند شد</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PortfolioDisabled"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Portfolio feature is not available for your user."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>در صورتی که اطلاعاتی از سود و زیان کاربر وجود نداشته باشد</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LastWeekDailyProfitFail"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"اطلاعاتی جهت نمایش وجود ندارد"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت اطلاعات سود و زیان روزانه هفته گذشته از این درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>POST users/portfolio/last-week-daily-profit</code></li>
<li><strong>محدودیت فراخوانی:</strong> 10 درخواست در 3 دقیقه</li>
</ul>
<h3 id='702332f289'>نکات و ملاحظات:</h3>
<p>این API به صورت پیش فرض اطلاعات 7 روز گذشته را ارائه می دهد. برای دریافت اطلاعات ماهانه یا ۳۰ روز گذشته کافیست پارامتر monthly با مقدار true را به همراه این درخواست ارسال نمایید.</p>

<h2 id="last-week-daily-total-profit">سود زیان کل به صورت روزانه در هفته گذشته</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.nobitex.ir/users/portfolio/last-week-daily-total-profit'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/users/portfolio/last-week-daily-total-profit \
Authorization: Token yourTOKENhereHEX0000000000
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"report_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-27"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"report_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-28"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"report_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-29"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4507274.2415300000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"197.3669039200"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"report_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-30"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9020935.7092505000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-307.6135237294"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"report_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-5373087.9340195000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1302.7642741973"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"report_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-02"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"313580813.4306171358"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-899.0991999052"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"report_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-03"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"313580813.4306171358"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-899.0991999052"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>در صورتی که این ویژگی برای کاربر فعال نباشد با این جواب روبرو خواهند شد</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PortfolioDisabled"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Portfolio feature is not available for your user."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>در صورتی که اطلاعاتی از سود و زیان کاربر وجود نداشته باشد</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LastWeekDailyProfitFail"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"اطلاعاتی جهت نمایش وجود ندارد"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت اطلاعات سود و زیان روزانه هفته گذشته از این درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>POST users/portfolio/last-week-daily-total-profit</code></li>
<li><strong>محدودیت فراخوانی:</strong> 10 درخواست در 3 دقیقه</li>
</ul>

<h2 id="last-month-total-profit">سود و زیان کل ماه گذشته</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-X</span> POST <span class="s1">'https://api.nobitex.ir/users/portfolio/last-month-total-profit'</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s1">'Authorization: Token yourTOKENhereHEX0000000000'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http POST https://api.nobitex.ir/users/portfolio/last-month-total-profit \
Authorization: Token yourTOKENhereHEX0000000000
</code></pre></div>
<blockquote>
<p>در صورت فراخوانی درست، پاسخ به این صورت خواهد بود:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"total_profit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8987787000.0000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"total_profit_percentage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"83.60700983438201160181729556"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>در صورتی که این ویژگی برای کاربر فعال نباشد با این جواب روبرو خواهند شد</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PortfolioDisabled"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Portfolio feature is not available for your user."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>در صورتی که اطلاعاتی از سود و زیان کاربر وجود نداشته باشد</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LastWeekDailyProfitFail"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"اطلاعاتی جهت نمایش وجود ندارد"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>برای دریافت اطلاعات سود و زیان روزانه هفته گذشته از این درخواست استفاده نمایید:</p>

<ul>
<li><strong>درخواست:</strong> <code>POST users/portfolio/last-month-total-profit</code></li>
<li><strong>محدودیت فراخوانی:</strong> 10 درخواست در 3 دقیقه</li>
</ul>
<h1 id="other">سایر</h1>

<h2 id="options">تنظیمات سیستم</h2>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s1">'https://api.nobitex.ir/v2/options'</span>
</code></pre></div><div class="highlight"><pre class="highlight plaintext tab-plaintext"><code>http GET https://api.nobitex.ir/v2/options
</code></pre></div>
<blockquote>
<p>ساختار کلی پاسخ به صورت زیر خواهد بود. کلیدهای موجود در هر بخش در مستندات توضیح داده شده‌اند.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"fcmEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"chat"</span><span class="p">:</span><span class="w"> </span><span class="s2">"livechat"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"walletsToNet"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nl">"autoKYC"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"enabledFeatures"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"PriceAlert"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"StopLoss"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"GiftCard"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"OCO"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"betaFeatures"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"coins"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"coin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rial"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"defaultNetwork"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FIAT_MONEY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"displayPrecision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"networkList"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"FIATMONEY"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"addressRegex"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"coin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"depositEnable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"minConfirm"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FIAT"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FIAT_MONEY"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"withdrawEnable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"withdrawFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4_000_0.00000000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"withdrawIntegerMultiple"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.10000000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"withdrawMax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500_000_000_0.00000000"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"withdrawMin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15_000_0.00000000"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"stdName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"﷼"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w"> </span><span class="err">Other</span><span class="w"> </span><span class="err">Coins</span><span class="w"> </span><span class="err">Options</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"nobitex"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"allCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
            </span><span class="err">...</span><span class="w"> </span><span class="err">Other</span><span class="w"> </span><span class="err">currencies</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"activeCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"rls"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"eth"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ltc"</span><span class="p">,</span><span class="w">
            </span><span class="err">...</span><span class="w"> </span><span class="err">Other</span><span class="w"> </span><span class="err">active</span><span class="w"> </span><span class="err">currencies</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"xchangeCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"topCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"eth"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"usdt"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"doge"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"shib"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trx"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ada"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ltc"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"xrp"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"testingCurrencies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"hbar"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"withdrawLimits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"normal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"dailyCoin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"dailyRial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"dailySummation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"monthlySummation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"level0"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"dailyCoin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"dailyRial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"dailySummation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"monthlySummation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"44"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"dailyCoin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"dailyRial"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"dailySummation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"monthlySummation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15000000000"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="err">...</span><span class="w"> </span><span class="err">Other</span><span class="w"> </span><span class="err">withdraw</span><span class="w"> </span><span class="err">options</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"minOrders"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"rls"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"usdt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"13"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"amountPrecisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"BTCIRT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"BTCUSDT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ETHIRT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00001"</span><span class="p">,</span><span class="w">
            </span><span class="err">...</span><span class="w"> </span><span class="err">Other</span><span class="w"> </span><span class="err">amount</span><span class="w"> </span><span class="err">precisions</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"pricePrecisions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"BTCIRT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"BTCUSDT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ETHIRT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="err">...</span><span class="w"> </span><span class="err">Other</span><span class="w"> </span><span class="err">market</span><span class="w"> </span><span class="err">precisions</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"giftCard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"physicalFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"360000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>عملکرد سیستم نوبیتکس بر اساس پارامترهای مختلف تنظیم می‌شود که با استفاده از API «تنظیمات سیستم» می‌توانید مقادیر این پارامترها را دریافت نمایید. مواردی مانند رمزارزهای فعال، حداقل معامله در هر بازار، پله‌های کارمزد، سقف برداشت و بسیاری اطلاعات مفید دیگر از این طریق در دسترس شما قرار خواهد داشت. پاسخ در دو کلید <code>nobitex</code> شامل تنظیمات کلی سیستمی، و کلید <code>coins</code> شامل تنظیمات مخصوص هر رمزارز بازگردانده می‌شود. همچنین هر رمزارز دارای چندین «شبکه» است که برخی تنظیمات ممکن است فقط در سطح شبکه تعریف شوند یا در سطح رمزارز به صورت عمومی وجود داشته باشند ولی در بعضی شبکه‌های آن رمزارز متفاوت بوده و بازتعریف شوند.</p>

<ul>
<li><strong>درخواست:</strong> <code>GET /v2/options</code></li>
<li><strong>نیاز به ارسال توکن:</strong> ندارد</li>
<li><strong>پارامتر ورودی:</strong> ندارد</li>
</ul>

<aside class="info">
رمزارز بیبی‌دوج به خاطر رعایت برخی از نکات فنی در اپلیکیشن‌های قدیمی در خروجی‌های این API لیست نمیشود.
</aside>
<h3 id='features'>پارامترهای پاسخ - features</h3>
<table><thead>
<tr>
<th>کلید</th>
<th>نوع</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>fcmEnabled</td>
<td>bool</td>
<td>وضعیت فعال بودن FCM</td>
</tr>
<tr>
<td>autoKYC</td>
<td>bool</td>
<td>وضعیت فعال بودن احراز خودکار</td>
</tr>
<tr>
<td>enabledFeatures</td>
<td>list of str</td>
<td>لیست Featureهای فعال</td>
</tr>
<tr>
<td>betaFeatures</td>
<td>list of str</td>
<td>لیست featureهای بتا</td>
</tr>
</tbody></table>
<h3 id='nobitex'>پارامترهای پاسخ - nobitex</h3>
<table><thead>
<tr>
<th>کلید</th>
<th>نوع</th>
<th>توضیحات</th>
</tr>
</thead><tbody>
<tr>
<td>allCurrencies</td>
<td>list of str</td>
<td>نماد تمام رمزارزهای موجود در بازارها</td>
</tr>
<tr>
<td>activeCurrencies</td>
<td>list of str</td>
<td>نماد رمزارزهای اصلی و سطح یک</td>
</tr>
<tr>
<td>xchangeCurrencies</td>
<td>list of str</td>
<td>نماد رمزارزهای صرافی</td>
</tr>
<tr>
<td>topCurrencies</td>
<td>list of str</td>
<td>رمزارزهای برتر بازار</td>
</tr>
<tr>
<td>testingCurrencies</td>
<td>list of str</td>
<td>رمزارزهای در حال توسعه و آزمایش</td>
</tr>
<tr>
<td>withdrawLimits</td>
<td>dict</td>
<td>محدودیت های روزانه و ماهانه در سطوح مختلف</td>
</tr>
<tr>
<td>minOrders</td>
<td>dict</td>
<td>حداقل مبلغ سفارش ریالی و تتری</td>
</tr>
<tr>
<td>amountPrecisions</td>
<td>dict</td>
<td>دقت اعشار مقدار در بازارهای مختلف</td>
</tr>
<tr>
<td>pricePrecisions</td>
<td>dict</td>
<td>دقت اعشار قیمت در بازارهای مختلف</td>
</tr>
<tr>
<td>giftCard</td>
<td>dict</td>
<td>هزینه چاپ گیفت کارتهای فیزیکی</td>
</tr>
</tbody></table>
<h3 id='coins'>پارامترهای پاسخ - Coins</h3>
<table><thead>
<tr>
<th>فیلد</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>coin</td>
<td>str</td>
<td>نماد یکتای رمزارز، معمولاً با حروف کوچک</td>
<td><code>rls</code> یا <code>btc</code> یا <code>eth</code> یا …</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>نام انگلیسی رمزارز</td>
<td><code>Bitcoin</code> یا <code>TRON</code> یا <code>Dogecoin</code> یا …</td>
</tr>
<tr>
<td>default_network</td>
<td>str</td>
<td>شبکه پیش‌فرض رمزارز، یکی از کلیدهای NetworkOptions آن رمزارز</td>
<td><code>FIAT_MONEY</code> یا <code>BTC</code> یا <code>BSC</code> یا …</td>
</tr>
<tr>
<td>network_list</td>
<td>dict</td>
<td>یک دیکشنری از شبکه‌های مختلف این رمزارز، با کلیدهای نام انگلیسی هر شبکه و مقادیر از نوع NetworkOptions</td>
<td></td>
</tr>
<tr>
<td>displayPrecision</td>
<td>str</td>
<td>دقت اعشار پیش‌فرض نمایش مقادیر این رمزارز</td>
<td><code>0.0001</code> یا <code>0.1</code> یا <code>1</code></td>
</tr>
<tr>
<td>stdName</td>
<td>str</td>
<td>عنوان رمز ارز</td>
<td><code>ریال</code></td>
</tr>
</tbody></table>
<h3 id='network'>پارامترهای پاسخ - Network</h3>
<table><thead>
<tr>
<th>فیلد</th>
<th>نوع</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>network</td>
<td>str</td>
<td>نماد یکتای شبکه، معمولاً با حروف بزرگ</td>
<td><code>FIAT_MONEY</code> یا <code>BTC</code> یا <code>BSC</code> یا …</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>نام انگلیسی خوانای شبکه</td>
<td><code>BTC</code> یا <code>ERC20</code> یا …</td>
</tr>
<tr>
<td>isDefault</td>
<td>boolean</td>
<td>آیا این شبکه پیش‌فرض برای این رمزارز در نوبیتکس است؟</td>
<td><code>false</code></td>
</tr>
<tr>
<td>beta</td>
<td>boolean</td>
<td>آیا این شبکه هنوز در حالت آزمایشی است؟</td>
<td><code>false</code></td>
</tr>
<tr>
<td>addressRegex</td>
<td>str</td>
<td>الگوی آدرس‌ها در این شبکه</td>
<td><code>^0x[0-9A-Fa-f]{40}$</code></td>
</tr>
<tr>
<td>memoRequired</td>
<td>boolean</td>
<td>آیا تراکنش روی این شبکه نیازمند ممو است؟</td>
<td><code>false</code></td>
</tr>
<tr>
<td>memoRegex</td>
<td>str</td>
<td>در صورت وجود، ممو باید چه الگویی داشته باشد؟</td>
<td><code>^[0-9A-Za-z]{1,28}$</code></td>
</tr>
<tr>
<td>depositEnable</td>
<td>boolean</td>
<td>آیا واریز رمزارز روی این شبکه فعال است؟</td>
<td><code>true</code></td>
</tr>
<tr>
<td>minConfirm</td>
<td>int</td>
<td>حداقل تعداد کانفیرم شبکه برای تایید اولیه واریز</td>
<td><code>1</code></td>
</tr>
<tr>
<td>depositInfo</td>
<td>dict</td>
<td>فهرست پارامترهای واریز</td>
<td><code>{&quot;standard&quot;: {&quot;depositMin&quot;: &quot;0.01&quot;}}</code></td>
</tr>
<tr>
<td>depositInfo.standard.depositMin</td>
<td>monetary</td>
<td>حداقل مقدار واریز این رمزارز روی شبکه</td>
<td><code>0</code></td>
</tr>
<tr>
<td>depositInfo.standard.depositMax</td>
<td>monetary</td>
<td>حداکثر مقدار واریز این رمزارز روی شبکه</td>
<td><code>1000</code></td>
</tr>
<tr>
<td>withdrawEnable</td>
<td>boolean</td>
<td>آیا برداشت رمزارز روی این شبکه فعال است؟</td>
<td><code>false</code></td>
</tr>
<tr>
<td>withdrawIntegerMultiple</td>
<td>monetary</td>
<td>حداقل مقدار تغییر مقدار قابل برداشت</td>
<td><code>0.000001</code></td>
</tr>
<tr>
<td>withdrawFee</td>
<td>monetary</td>
<td>کارمزد برداشت</td>
<td><code>0.1</code></td>
</tr>
<tr>
<td>withdrawMin</td>
<td>monetary</td>
<td>حداقل مقدار قابل برداشت</td>
<td><code>0.1</code></td>
</tr>
<tr>
<td>withdrawMax</td>
<td>monetary</td>
<td>حداکثر مقدار قابل برداشت</td>
<td><code>1000</code></td>
</tr>
</tbody></table>
<h1 id="general-considerations">ملاحظات عمومی</h1>
<h2 id='00aedb9cdc'>راهنمای اشکال‌یابی</h2>
<ul>
<li>به نوع درخواست دقت کنید، احتمال دارد درخواست از نوع <code>HTTP POST</code> باشد و شما از <code>GET</code> استفاده کرده باشید.</li>
<li>آدرس API را مجددا بررسی نمایید. همچنین به وجود یا عدم وجود <code>/</code> در انتهای آدرس دقت کنید.</li>
</ul>
<h2 id='566f5db2bb'>پاسخ‌های موفق</h2>
<blockquote>
<p>نمونه پاسخ موفق:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ok"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"otherFields"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>در تمامی API ها در صورتی که عملیات مد نظر به درستی انجام شده باشد، پاسخ به صورت یک شی در قالب JSON
بازگردانده می‌شود و با وضعیت <code>HTTP 200</code> است. این پاسخ در حالت موفق یک کلید <code>status</code> با مقدار <code>ok</code> دارد.
بنا به API مورد استفاده ممکن است یک یا چند کلید دیگر نیز در این پاسخ بازگردانده شود.</p>
<h2 id='82d68ae596'>پاسخ‌های ناموفق</h2>
<blockquote>
<p>نمونه پاسخ ناموفق:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ErrorCode"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Human-readable error message"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>در تمامی APIها در صورتی که به هر دلیل امکان پردازش و انجام آن درخواست وجود نداشته باشد، یک پاسخ ناموفق
بازگردانده می‌شود. پاسخ‌های ناموفق به دو صورت هستند، یا با کد خطای HTTP مشخص می‌شوند که مطابق با معانی
وضعیت در پروتکل HTTP قابل تفسیر هستند.</p>

<p>در صورتی که پارامترهای ورودی قابل تفسیر باشند، ولی عملیات مد نظر قابل انجام نباشد، پاسخ با وضعیت <code>HTTP 200</code> بازگردانده
می‌شود، و توضیحات تکمیلی به صورت یک شی در قالب JSON خواهد بود که مقدار کلید <code>status</code> آن برابر <code>failed</code> است.
کلید <code>code</code> در این شرایط، خطای دقیق رخ داده شده را مشخص می‌کند که در بخش «حالت‌های خطا» در توضیحات هر API
فهرستی از کدهای خطای ممکن و توضیحات آن ارائه شده است. معمولاً در یک کلید <code>message</code> توضیح بیشتری در مورد آن
خطا نیز ارائه می‌شود که جهت رفع عیب یا نمایش مستقیم به کاربر نهایی می‌تواند مفید باشد.</p>

<aside class="notice">
  پیشنهاد می‌شود برای نمایش پیام خطا از مقدار code استفاده شود و طبق زبان کاربر نهایی، پیام مناسبی به وی نمایش داده شود.
  مقدار message تنها برای کمک به اشکال‌یابی ارائه می‌شود و برای نمایش به کاربر بهینه نیست.
</aside>
<h3 id='4a4a09d91d'>برخی وضعیت‌های پرکاربرد</h3>
<table><thead>
<tr>
<th>کد HTTP</th>
<th>عنوان</th>
<th>توضیحات</th>
<th>‌</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
<td>درخواست دریافت و پاسخ داده شده، وضعیت اصلی درخواست در فیلد status پاسخ مشخص می‌شود.</td>
<td></td>
</tr>
<tr>
<td>400</td>
<td>Bad Request</td>
<td>پارامترهای درخواست نادرست یا ناکافی است به طوری که امکان بررسی بیشتر و پاسخ بهتر به آن وجود ندارد.</td>
<td></td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized</td>
<td>کاربر <a href="#intro-auth">احراز هویت</a> نشده است</td>
<td></td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>انجام این عملیات مجاز نمی‌باشد</td>
<td></td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>آدرس یا شی مد نظر وجود ندارد</td>
<td><a target="_blank" rel="nofollow" href="https://http.cat/404">🐱</a></td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
<td>مشکلی به صورت موقت در سرور نوبیتکس رخ داده است</td>
<td><a target="_blank" rel="nofollow" href="https://http.cat/500">🐱</a></td>
</tr>
</tbody></table>

<h2 id="pagination">صفحه‌بندی</h2>

<p>پارامترهای زیر در API های دریافت لیست دارای صفحه‌بندی قابل استفاده است:</p>

<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>int</td>
<td>اختیاری</td>
<td>شماره صفحه</td>
<td>2</td>
</tr>
<tr>
<td>pageSize</td>
<td>int</td>
<td>اختیاری</td>
<td>اندازه صفحه</td>
<td>10</td>
</tr>
</tbody></table>

<aside class="notice">
برای page و pageSize مقادیر بین 1 تا 100 قابل قبول است.
</aside>

<aside class="notice">
اندازه صفحه پیش‌فرض برای هر API جداگانه مشخصetim می‌شود، اما به طور عمومی 50 عدد در صفحه است.
</aside>

<h2 id="date-filter">فیلتر زمانی</h2>

<p>پارامترهای زیر در API های دریافت لیست قابل فیلتر زمانی قابل استفاده است:</p>

<table><thead>
<tr>
<th>پارامتر</th>
<th>نوع</th>
<th>پیش‌فرض</th>
<th>توضیحات</th>
<th>نمونه</th>
</tr>
</thead><tbody>
<tr>
<td>from</td>
<td>date</td>
<td>اختیاری</td>
<td>از تاریخ</td>
<td><code>2022-05-12</code></td>
</tr>
<tr>
<td>to</td>
<td>date</td>
<td>اختیاری</td>
<td>تا تاریخ</td>
<td><code>2022-07-22</code></td>
</tr>
</tbody></table>
<h2 id='monetary'>مقادیر پولی (monetary)</h2>
<p>در موارد متعددی پارامترهای ورودی درخواست‌ها از نوع مقدار پولی یا monetary مشخص شده است. برای داشتن بالاترین دقت، پیشنهاد می‌شود که این مقادیر را به صورت رشته‌ای ارسال نمایید، چرا که استفاده از انواع داده‌ای مانند <code>float</code> در کاربردهای دقیق مالی توصیه نمی‌شود.</p>
<h2 id='dbf936619c'>اعتبارسنجی دو عاملی</h2>
<p>در صورتی که اعتبارسنجی دو عاملی (2 Factor Authentication) را برای حساب خود فعال کرده باشید، باید در هنگام استفاده از برخی APIها،
به خصوص در هنگام دریافت توکن از API لاگین، علاوه بر سایر پارامترها، رمز یک‌بار مصرف خود را نیز در هدرهای درخواست به این صورت ارسال نمایید:
<code>X-TOTP: 123456</code>.</p>
<h2 id='api'>محدودیت‌های فراخوانی API</h2>
<p>برخی از APIهای نوبیتکس دارای محدودیت تعداد فراخوانی در هر بازه‌ی زمانی هستند. با این حال اگر شما به صورت معمولی و مشابه
استفاده‌ی متداول کاربران از API استفاده کنید، با این محدودیت‌ها مواجه نخواهید شد. محدودیت‌ها به ازای هر API مستقلا محاسبه
و اعمال می‌شوند. محدودیت‌ها معمولا بر اساس آدرس IP درخواست دهنده و در موارد هم بر اساس کاربر (توکن) درخواست دهنده می‌باشند.
در حالتی که به حد مجاز تعداد فراخوانی یک API رسیده باشید، پاسخ آن API به شما یک پیام خطا با کد 403 و دارای توضیحات مشخص
در خصوص آن محدودیت خواهد بود.</p>

<p>در صورتی که به صورت موردی یا در حین تست کد خود به محدودیتی برخورد کردید، می‌توانید با
منتظر ماندن (بین یک ساعت تا یک روز) آن محدودیت را برطرف کنید و دوباره امکان استفاده از API مد نظرتان را داشته باشید. اگر به
صورت مداوم به محدودیتی برای یک API برخورد می‌کنید و فکر می‌کنید که بهتر است تعداد فراخوانی مجاز آن API افزایش یابد، حتما با
ایجاد یک مورد در گیت‌هاب (<a href="https://github.com/nobitex/docs-api/issues/new">لینک ایجاد مورد</a>) مسئله را با ما مطرح نمایید.</p>
<h2 id='pro'>حالت متداول و Pro</h2>
<p>در برخی از درخواست‌ها جهت حفاظت بهتر از کاربران، برخی محدودیت‌ها اعمال می‌شود. در چنین مواردی در بخش ملاحظات این محدودیت‌ها توضیح داده شده و در انتهای آن عبارت «غیرفعال در حالت Pro» ذکر شده است. با ارائه پارامتر <code>pro</code> به مقدار <code>yes</code> به عنوان ورودی، این محدودیت برای آن درخواست غیرفعال می‌شود. با این حال دقت کنید که محدودیت‌های حالت متداول برای جلوگیری از حالت‌های خاص و اشتباهات رایج تعبیه شده است و تنها در صورت نیاز و آگاهی از تبعات احتمالی آن، اقدام به فعال‌سازی حالت Pro نمایید.</p>
<h1 id="faq">سوالات متداول</h1>

<h2 id="faq-login">سوالی در مورد لاگین و دریافت توکن دارم</h2>

<p>در این زمینه ابتدا مطالعه توضیحات <a href="#intro-auth">احراز هویت و توکن</a>، <a href="#quickstart">راهنمای شروع به کار با API</a> و <a href="#auth-intro">روش پیشنهادی دریافت توکن</a> پیشنهاد می‌شود. سپس می‌توانید در بخش <a href="#login-faq">سوالات متداول دریافت توکن</a> برخی سوالات متداول در این زمینه را مشاهده کنید.</p>
<h2 id='test'>آیا نوبیتکس محیط آزمایشی (Test) دارد؟</h2>
<p>بله، شما میتوانید برای استفاده از کلیه امکانات بازار نوبیتکس و همچنین api ها از محیط آزمایشی نوبیتکس به آدرس‌های ذیل استفاده نمائید:</p>

<p>آدرس نوبیتکس آزمایشی : https://testnet.nobitex.ir</p>

<p>آدرس api آزمایشی : https://testnetapi.nobitex.ir</p>
<h2 id='api'>آیا برای استفاده از apiها محدودیتی وجود دارد؟</h2>
<p>بله، برای مثال شما حتماً باید از IPهای ایران درخواست خود را ارسال نمائید، و یا محدودیت‌های مخصوص به هر api که در توضیحات هر کدام از endpointها آورده شده است.</p>
<h2 id='a640db90fe'>فرمت استفاده شده برای تاریخ چیست؟</h2>
<p>ساعت یونیکس Unix Time
یکی از مقیاس اندازه‌گیری زمان آنی است. این عدد که تعداد ثانیه‌ها از ساعت ۰۰:۰۰:۰۰ ساعت هماهنگ جهانی اول ژانویه ۱۹۷۰ است، شامل ثانیه‌های کبیسه نمی‌شود. برای زمان‌های قبل از اول ژانویه از اعداد منفی استفاده می‌شود.</p>

<p>به عنوان مثال [۰۱/۰۱/۱۹۷۰ ۰۰:۰۰:۰۰] برابر با صفر (۰) و [۰۱/۰۱/۱۹۷۰ ۰۰:۰۱:۰۰] برابر با شصت(۶۰) است.</p>

<p>فرمول اصلی آن به این صورت می‌باشد:</p>

<p>تعداد (روزهای گذشته از اول ژانویه ۱۹۷۰) × ۸۶۴۰۰(تعداد ثانیه‌های هر روز)</p>

<p>به منظور مطالعه بیشتر به آدرس زیر مراجعه نمائید
https://en.wikipedia.org/wiki/Unix_time</p>
<h2 id='api-2'>آیا برای apiها کدهای نمونه تهیه شده است؟</h2>
<p>بله، collection کلیه api ها برای استفاده در برنامه postman تهیه و از <a target="_blank" rel="nofollow" href="https://documenter.getpostman.com/view/5722122/Szmcayjw?version=latest">اینجا</a> میتوانید به آن دسترسی داشته باشید. در این collection شما میتوانید نمونه فراخوانی هر کدام از این apiها را به زبان‌های مختلف برنامه نویسی نظیر پی اچ پی، پایتون، سی شارپ  و … در این مجموعه مشاهده کرده و آن را در سیستم خود اجرا نمائید.</p>
<p><template id="market-symbols">
BTCIRT, ETHIRT, LTCIRT, USDTIRT, XRPIRT, BCHIRT, BNBIRT, EOSIRT, XLMIRT, ETCIRT, TRXIRT, DOGEIRT, UNIIRT, DAIIRT, LINKIRT, DOTIRT, AAVEIRT, ADAIRT, SHIBIRT, FTMIRT, MATICIRT, AXSIRT, MANAIRT, SANDIRT, AVAXIRT, MKRIRT, GMTIRT, USDCIRT, BTCUSDT, ETHUSDT, LTCUSDT, XRPUSDT, BCHUSDT, BNBUSDT, EOSUSDT, XLMUSDT, ETCUSDT, TRXUSDT, PMNUSDT, DOGEUSDT, UNIUSDT, DAIUSDT, LINKUSDT, DOTUSDT, AAVEUSDT, ADAUSDT, SHIBUSDT, FTMUSDT, MATICUSDT, AXSUSDT, MANAUSDT, SANDUSDT, AVAXUSDT, MKRUSDT, GMTUSDT, USDCUSDT, CHZIRT, GRTIRT, CRVIRT, BANDUSDT, COMPUSDT, EGLDIRT, HBARUSDT, GALIRT, HBARIRT, WBTCUSDT, IMXIRT, WBTCIRT, ONEIRT, GLMUSDT, ENSIRT, 1M_BTTIRT, SUSHIIRT, LDOIRT, ATOMUSDT, ZROIRT, STORJIRT, ANTIRT, AEVOUSDT, 100K_FLOKIIRT, RSRUSDT, API3USDT, GLMIRT, XMRIRT, ENSUSDT, OMIRT, RDNTIRT, MAGICUSDT, TIRT, ATOMIRT, NOTIRT, CVXIRT, XTZIRT, FILIRT, UMAIRT, 1B_BABYDOGEIRT, BANDIRT, SSVIRT, DAOIRT, BLURIRT, ONEUSDT, EGALAUSDT, GMXIRT, XTZUSDT, FLOWUSDT, GALUSDT, WIRT, CVCUSDT, NMRUSDT, SKLIRT, SNTIRT, BATUSDT, TRBUSDT, NMRIRT, RDNTUSDT, API3IRT, CVCIRT, WLDIRT, YFIUSDT, SOLIRT, TUSDT, QNTUSDT, IMXUSDT, AEVOIRT, GMXUSDT, ETHFIUSDT, QNTIRT, GRTUSDT, WLDUSDT, FETIRT, AGIXIRT, NOTUSDT, LPTIRT, SLPIRT, MEMEUSDT, SOLUSDT, BALUSDT, DAOUSDT, COMPIRT, MEMEIRT, TONUSDT, BATIRT, SNXIRT, TRBIRT, 1INCHUSDT, OMUSDT, RSRIRT, RNDRIRT, SLPUSDT, SSVUSDT, RNDRUSDT, AGLDIRT, NEARUSDT, WOOUSDT, YFIIRT, MDTIRT, CRVUSDT, MDTUSDT, EGLDUSDT, LRCIRT, LPTUSDT, BICOUSDT, 1M_PEPEIRT, BICOIRT, MAGICIRT, ETHFIIRT, ANTUSDT, 1INCHIRT, APEUSDT, 1M_NFTIRT, ARBIRT, LRCUSDT, WUSDT, BLURUSDT, CELRUSDT, DYDXIRT, CVXUSDT, BALIRT, TONIRT, 100K_FLOKIUSDT, JSTUSDT, ZROUSDT, ARBUSDT, APTIRT, 1M_NFTUSDT, CELRIRT, UMAUSDT, SKLUSDT, ZRXUSDT, AGLDUSDT, ALGOIRT, NEARIRT, APTUSDT, ZRXIRT, SUSHIUSDT, FETUSDT, ALGOUSDT, 1M_PEPEUSDT, MASKIRT, EGALAIRT, FLOWIRT, 1B_BABYDOGEUSDT, MASKUSDT, 1M_BTTUSDT, STORJUSDT, XMRUSDT, OMGIRT, SNTUSDT, APEIRT, FILUSDT, ENJUSDT, OMGUSDT, WOOIRT, CHZUSDT, ENJIRT, DYDXUSDT, AGIXUSDT, JSTIRT, LDOUSDT, SNXUSDT
</template></p>

<p><template id="currency-symbols">
rls, btc, eth, ltc, usdt, xrp, bch, bnb, eos, xlm, etc, trx, pmn, doge, uni, dai, link, dot, aave, ada, shib, ftm, matic, axs, mana, sand, avax, mkr, gmt, atom, uma, w, rsr, wld, 1m_nft, flow, agld, ton, mask, snt, agix, algo, ssv, band, omg, comp, zrx, rdnt, imx, 1inch, mdt, sushi, bico, gmx, zro, bal, dao, gal, not, nmr, xmr, enj, apt, lrc, dydx, grt, near, cvx, 100k_floki, fil, sol, ldo, crv, aevo, qnt, om, woo, storj, ant, 1m_btt, magic, ape, rndr, hbar, lpt, glm, blur, wbtc, meme, ethfi, egala, arb, fet, skl, cvc, snx, jst, ens, trb, chz, xtz, api3, slp, t, bat, 1b_babydoge, celr, yfi, egld, one, 1m_pepe, usdc
</template></p>

<p><template id="network-symbols">
FIAT_MONEY, ETH, BSC, ADA, ALGO, APT, ARB, BCH, BNB, BTC, BTCLN, DOGE, DOT, EOS, ETC, LTC, PMN, TRX, OMNI, ZTRX, XLM, XMR, XRP, ATOM, EGLD, FIL, FLR, FLOW, FTM, MATIC, AVAX, HBAR, NEAR, TON, SOL, XTZ, ONE 
</template></p>

<p><template id="tag-required-networks">
BNB, EOS, PMN, XLM, XRP
</template></p>

<script>
const templates = document.getElementsByTagName('template');
for (i = 0; i < templates.length; i++) {
  const uses = document.getElementsByClassName(templates[i].id);
  for (j = 0; j < uses.length; j++) {
    uses[j].innerHTML = templates[i].innerHTML;
  }
}
</script>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="plaintext">plaintext</a>
          </div>
      </div>
    </div>
  </body>
</html>
